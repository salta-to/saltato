(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports):typeof define==="function"&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})})(this,function(e){"use strict";function f(e,t){if(window.NodeList.prototype.forEach){return e.forEach(t)}for(var n=0;n<e.length;n++){t.call(window,e[n],n,e)}}function r(){var n=(new Date).getTime();if(typeof window.performance!=="undefined"&&typeof window.performance.now==="function"){n+=window.performance.now()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+Math.random()*16)%16|0;n=Math.floor(n/16);return(e==="x"?t:t&3|8).toString(16)})}(function(e){var t="defineProperty"in Object&&function(){try{var e={};Object.defineProperty(e,"test",{value:42});return true}catch(e){return false}}();if(t)return;(function(u){var c=Object.prototype.hasOwnProperty("__defineGetter__");var l="Getters & setters cannot be defined on this javascript engine";var d="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function e(t,n,i){if(u&&(t===window||t===document||t===Element.prototype||t instanceof Element)){return u(t,n,i)}if(t===null||!(t instanceof Object||typeof t==="object")){throw new TypeError("Object.defineProperty called on non-object")}if(!(i instanceof Object)){throw new TypeError("Property description must be an object")}var r=String(n);var o="value"in i||"writable"in i;var a="get"in i&&typeof i.get;var s="set"in i&&typeof i.set;if(a){if(a!=="function"){throw new TypeError("Getter must be a function")}if(!c){throw new TypeError(l)}if(o){throw new TypeError(d)}Object.__defineGetter__.call(t,r,i.get)}else{t[r]=i.value}if(s){if(s!=="function"){throw new TypeError("Setter must be a function")}if(!c){throw new TypeError(l)}if(o){throw new TypeError(d)}Object.__defineSetter__.call(t,r,i.set)}if("value"in i){t[r]=i.value}return t}})(Object.defineProperty)}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(e){var t="bind"in Function.prototype;if(t)return;Object.defineProperty(Function.prototype,"bind",{value:function e(t){var n=Array;var i=Object;var r=i.prototype;var o=n.prototype;var a=function e(){};var s=r.toString;var u=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var c;var l=Function.prototype.toString,d=function e(t){try{l.call(t);return true}catch(e){return false}},f="[object Function]",p="[object GeneratorFunction]";c=function e(t){if(typeof t!=="function"){return false}if(u){return d(t)}var n=s.call(t);return n===f||n===p};var h=o.slice;var m=o.concat;var y=o.push;var v=Math.max;var g=this;if(!c(g)){throw new TypeError("Function.prototype.bind called on incompatible "+g)}var b=h.call(arguments,1);var w;var E=function(){if(this instanceof w){var e=g.apply(this,m.call(b,h.call(arguments)));if(i(e)===e){return e}return this}else{return g.apply(t,m.call(b,h.call(arguments)))}};var x=v(0,g.length-b.length);var k=[];for(var S=0;S<x;S++){y.call(k,"$"+S)}w=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this, arguments); }")(E);if(g.prototype){a.prototype=g.prototype;w.prototype=new a;a.prototype=null}return w}})}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(f){var e="DOMTokenList"in this&&function(e){return"classList"in e?!e.classList.toggle("x",false)&&!e.className:true}(document.createElement("x"));if(e)return;(function(e){var t="DOMTokenList"in e&&e.DOMTokenList;if(!t||!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg")&&!(document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)){e.DOMTokenList=function(){var r=true;var n=function(e,t,n,i){if(Object.defineProperty)Object.defineProperty(e,t,{configurable:false===r?true:!!i,get:n});else e.__defineGetter__(t,n)};try{n({},"support")}catch(e){r=false}var e=function(r,o){var a=this;var s=[];var u={};var c=0;var e=0;var t=function(e){n(a,e,function(){d();return s[e]},false)};var l=function(){if(c>=e)for(;e<c;++e){t(e)}};var d=function(){var e;var t;var n=arguments;var i=/\s+/;if(n.length)for(t=0;t<n.length;++t)if(i.test(n[t])){e=new SyntaxError('String "'+n[t]+'" '+"contains"+" an invalid character");e.code=5;e.name="InvalidCharacterError";throw e}if(typeof r[o]==="object"){s=(""+r[o].baseVal).replace(/^\s+|\s+$/g,"").split(i)}else{s=(""+r[o]).replace(/^\s+|\s+$/g,"").split(i)}if(""===s[0])s=[];u={};for(t=0;t<s.length;++t)u[s[t]]=true;c=s.length;l()};d();n(a,"length",function(){d();return c});a.toLocaleString=a.toString=function(){d();return s.join(" ")};a.item=function(e){d();return s[e]};a.contains=function(e){d();return!!u[e]};a.add=function(){d.apply(a,e=arguments);for(var e,t,n=0,i=e.length;n<i;++n){t=e[n];if(!u[t]){s.push(t);u[t]=true}}if(c!==s.length){c=s.length>>>0;if(typeof r[o]==="object"){r[o].baseVal=s.join(" ")}else{r[o]=s.join(" ")}l()}};a.remove=function(){d.apply(a,e=arguments);for(var e,t={},n=0,i=[];n<e.length;++n){t[e[n]]=true;delete u[e[n]]}for(n=0;n<s.length;++n)if(!t[s[n]])i.push(s[n]);s=i;c=i.length>>>0;if(typeof r[o]==="object"){r[o].baseVal=s.join(" ")}else{r[o]=s.join(" ")}l()};a.toggle=function(e,t){d.apply(a,[e]);if(f!==t){if(t){a.add(e);return true}else{a.remove(e);return false}}if(u[e]){a.remove(e);return false}a.add(e);return true};return a};return e}()}(function(){var e=document.createElement("span");if(!("classList"in e))return;e.classList.toggle("x",false);if(!e.classList.contains("x"))return;e.classList.constructor.prototype.toggle=function e(t){var n=arguments[1];if(n===f){var i=!this.contains(t);this[i?"add":"remove"](t);return i}n=!!n;this[n?"add":"remove"](t);return n}})();(function(){var e=document.createElement("span");if(!("classList"in e))return;e.classList.add("a","b");if(e.classList.contains("b"))return;var i=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){var e=arguments;var t=arguments.length;for(var n=0;n<t;n++){i.call(this,e[n])}}})();(function(){var e=document.createElement("span");if(!("classList"in e))return;e.classList.add("a");e.classList.add("b");e.classList.remove("a","b");if(!e.classList.contains("b"))return;var i=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){var e=arguments;var t=arguments.length;for(var n=0;n<t;n++){i.call(this,e[n])}}})()})(this)}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(e){var t="Document"in this;if(t)return;if(typeof WorkerGlobalScope==="undefined"&&typeof importScripts!=="function"){if(this.HTMLDocument){this.Document=this.HTMLDocument}else{this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")();this.Document.prototype=document}}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(e){var t="Element"in this&&"HTMLElement"in this;if(t)return;(function(){if(window.Element&&!window.HTMLElement){window.HTMLElement=window.Element;return}window.Element=window.HTMLElement=new Function("return function Element() {}")();var e=document.appendChild(document.createElement("body"));var t=e.appendChild(document.createElement("iframe"));var n=t.contentWindow.document;var s=Element.prototype=n.appendChild(n.createElement("*"));var u={};var c=function(e,t){var n=e.childNodes||[],i=-1,r,o,a;if(e.nodeType===1&&e.constructor!==Element){e.constructor=Element;for(r in u){o=u[r];e[r]=o}}while(a=t&&n[++i]){c(a,t)}return e};var l=document.getElementsByTagName("*");var i=document.createElement;var r;var o=100;s.attachEvent("onpropertychange",function(e){var t=e.propertyName,n=!u.hasOwnProperty(t),i=s[t],r=u[t],o=-1,a;while(a=l[++o]){if(a.nodeType===1){if(n||a[t]===r){a[t]=i}}}u[t]=i});s.constructor=Element;if(!s.hasAttribute){s.hasAttribute=function e(t){return this.getAttribute(t)!==null}}function a(){if(!o--)clearTimeout(r);if(document.body&&!document.body.prototype&&/(complete|interactive)/.test(document.readyState)){c(document,true);if(r&&document.body.prototype)clearTimeout(r);return!!document.body.prototype}return false}if(!a()){document.onreadystatechange=a;r=setInterval(a,25)}document.createElement=function e(t){var n=i(String(t).toLowerCase());return c(n)};document.removeChild(e)})()}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(e){var t="document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&function(){var e=document.createElement("span");e.classList.add("a","b");return e.classList.contains("b")}();if(t)return;(function(e){var l=true;var d=function(e,t,n,i){if(Object.defineProperty)Object.defineProperty(e,t,{configurable:false===l?true:!!i,get:n});else e.__defineGetter__(t,n)};try{d({},"support")}catch(e){l=false}var f=function(e,u,c){d(e.prototype,u,function(){var e;var t=this,n="__defineGetter__"+"DEFINE_PROPERTY"+u;if(t[n])return e;t[n]=true;if(false===l){var i;var r=f.mirror||document.createElement("div");var o=r.childNodes;var a=o.length;for(var s=0;s<a;++s)if(o[s]._R===t){i=o[s];break}i||(i=r.appendChild(document.createElement("div")));e=DOMTokenList.call(i,t,c)}else e=new DOMTokenList(t,c);d(t,u,function(){return e});delete t[n];return e},true)};f(e.Element,"classList","className");f(e.HTMLElement,"classList","className");f(e.HTMLLinkElement,"relList","rel");f(e.HTMLAnchorElement,"relList","rel");f(e.HTMLAreaElement,"relList","rel")})(this)}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});function p(e){this.$module=e;this.moduleId=e.getAttribute("id");this.$sections=e.querySelectorAll(".govuk-accordion__section");this.$openAllButton="";this.browserSupportsSessionStorage=t.checkForSessionStorage();this.controlsClass="govuk-accordion__controls";this.openAllClass="govuk-accordion__open-all";this.iconClass="govuk-accordion__icon";this.sectionHeaderClass="govuk-accordion__section-header";this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused";this.sectionHeadingClass="govuk-accordion__section-heading";this.sectionSummaryClass="govuk-accordion__section-summary";this.sectionButtonClass="govuk-accordion__section-button";this.sectionExpandedClass="govuk-accordion__section--expanded"}p.prototype.init=function(){if(!this.$module){return}this.initControls();this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)};p.prototype.initControls=function(){this.$openAllButton=document.createElement("button");this.$openAllButton.setAttribute("type","button");this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>';this.$openAllButton.setAttribute("class",this.openAllClass);this.$openAllButton.setAttribute("aria-expanded","false");this.$openAllButton.setAttribute("type","button");var e=document.createElement("div");e.setAttribute("class",this.controlsClass);e.appendChild(this.$openAllButton);this.$module.insertBefore(e,this.$module.firstChild);this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))};p.prototype.initSectionHeaders=function(){f(this.$sections,function(e,t){var n=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(n,t);this.setExpanded(this.isExpanded(e),e);n.addEventListener("click",this.onSectionToggle.bind(this,e));this.setInitialState(e)}.bind(this))};p.prototype.initHeaderAttributes=function(t,e){var n=this;var i=t.querySelector("."+this.sectionButtonClass);var r=t.querySelector("."+this.sectionHeadingClass);var o=t.querySelector("."+this.sectionSummaryClass);var a=document.createElement("button");a.setAttribute("type","button");a.setAttribute("id",this.moduleId+"-heading-"+(e+1));a.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var s=0;s<i.attributes.length;s++){var u=i.attributes.item(s);a.setAttribute(u.nodeName,u.nodeValue)}a.addEventListener("focusin",function(e){if(!t.classList.contains(n.sectionHeaderFocusedClass)){t.className+=" "+n.sectionHeaderFocusedClass}});a.addEventListener("blur",function(e){t.classList.remove(n.sectionHeaderFocusedClass)});if(typeof o!=="undefined"&&o!==null){a.setAttribute("aria-describedby",this.moduleId+"-summary-"+(e+1))}a.innerHTML=i.innerHTML;r.removeChild(i);r.appendChild(a);var c=document.createElement("span");c.className=this.iconClass;c.setAttribute("aria-hidden","true");a.appendChild(c)};p.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e);this.storeState(e)};p.prototype.onOpenOrCloseAllToggle=function(){var t=this;var e=this.$sections;var n=!this.checkIfAllSectionsOpen();f(e,function(e){t.setExpanded(n,e);t.storeState(e)});t.updateOpenAllButton(n)};p.prototype.setExpanded=function(e,t){var n=t.querySelector("."+this.sectionButtonClass);n.setAttribute("aria-expanded",e);if(e){t.classList.add(this.sectionExpandedClass)}else{t.classList.remove(this.sectionExpandedClass)}var i=this.checkIfAllSectionsOpen();this.updateOpenAllButton(i)};p.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)};p.prototype.checkIfAllSectionsOpen=function(){var e=this.$sections.length;var t=this.$module.querySelectorAll("."+this.sectionExpandedClass).length;var n=e===t;return n};p.prototype.updateOpenAllButton=function(e){var t=e?"Close all":"Open all";t+='<span class="govuk-visually-hidden"> sections</span>';this.$openAllButton.setAttribute("aria-expanded",e);this.$openAllButton.innerHTML=t};var t={checkForSessionStorage:function(){var e="this is the test string";var t;try{window.sessionStorage.setItem(e,e);t=window.sessionStorage.getItem(e)===e.toString();window.sessionStorage.removeItem(e);return t}catch(e){if(typeof console==="undefined"||typeof console.log==="undefined"){console.log("Notice: sessionStorage not available.")}}}};p.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var n=t.getAttribute("aria-controls");var i=t.getAttribute("aria-expanded");if(typeof n==="undefined"&&(typeof console==="undefined"||typeof console.log==="undefined")){console.error(new Error("No aria controls present in accordion section heading."))}if(typeof i==="undefined"&&(typeof console==="undefined"||typeof console.log==="undefined")){console.error(new Error("No aria expanded present in accordion section heading."))}if(n&&i){window.sessionStorage.setItem(n,i)}}}};p.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var n=t.getAttribute("aria-controls");var i=n?window.sessionStorage.getItem(n):null;if(i!==null){this.setExpanded(i==="true",e)}}}};(function(e){var t="Window"in this;if(t)return;if(typeof WorkerGlobalScope==="undefined"&&typeof importScripts!=="function"){(function(e){if(e.constructor){e.Window=e.constructor}else{(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}})(this)}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(a){var e=function(e){if(!("Event"in e))return false;if(typeof e.Event==="function")return true;try{new Event("click");return true}catch(e){return false}}(this);if(e)return;(function(){var i={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if(typeof document==="undefined"||typeof window==="undefined")return;function s(e,t){var n=-1,i=e.length;while(++n<i){if(n in e&&e[n]===t){return n}}return-1}var e=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function e(t,n){if(!t){throw new Error("Not enough arguments")}var i;if("createEvent"in document){i=document.createEvent("Event");var r=n&&n.bubbles!==a?n.bubbles:false;var o=n&&n.cancelable!==a?n.cancelable:false;i.initEvent(t,r,o);return i}i=document.createEventObject();i.type=t;i.bubbles=n&&n.bubbles!==a?n.bubbles:false;i.cancelable=n&&n.cancelable!==a?n.cancelable:false;return i};if(e){Object.defineProperty(window.Event,"prototype",{configurable:false,enumerable:false,writable:true,value:e})}if(!("createEvent"in document)){window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function e(){var a=this,t=arguments[0],n=arguments[1];if(a===window&&t in i){throw new Error("In IE8 the event: "+t+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.")}if(!a._events){a._events={}}if(!a._events[t]){a._events[t]=function(t){var e=a._events[t.type].list,n=e.slice(),i=-1,r=n.length,o;t.preventDefault=function e(){if(t.cancelable!==false){t.returnValue=false}};t.stopPropagation=function e(){t.cancelBubble=true};t.stopImmediatePropagation=function e(){t.cancelBubble=true;t.cancelImmediate=true};t.currentTarget=a;t.relatedTarget=t.fromElement||null;t.target=t.target||t.srcElement||a;t.timeStamp=(new Date).getTime();if(t.clientX){t.pageX=t.clientX+document.documentElement.scrollLeft;t.pageY=t.clientY+document.documentElement.scrollTop}while(++i<r&&!t.cancelImmediate){if(i in n){o=n[i];if(s(e,o)!==-1&&typeof o==="function"){o.call(a,t)}}}};a._events[t].list=[];if(a.attachEvent){a.attachEvent("on"+t,a._events[t])}}a._events[t].list.push(n)};window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function e(){var t=this,n=arguments[0],i=arguments[1],r;if(t._events&&t._events[n]&&t._events[n].list){r=s(t._events[n].list,i);if(r!==-1){t._events[n].list.splice(r,1);if(!t._events[n].list.length){if(t.detachEvent){t.detachEvent("on"+n,t._events[n])}delete t._events[n]}}}};window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function e(t){if(!arguments.length){throw new Error("Not enough arguments")}if(!t||typeof t.type!=="string"){throw new Error("DOM Events Exception 0")}var n=this,i=t.type;try{if(!t.bubbles){t.cancelBubble=true;var r=function(e){e.cancelBubble=true;(n||window).detachEvent("on"+i,r)};this.attachEvent("on"+i,r)}this.fireEvent("on"+i,t)}catch(e){t.target=n;do{t.currentTarget=n;if("_events"in n&&typeof n._events[i]==="function"){n._events[i].call(n,t)}if(typeof n["on"+i]==="function"){n["on"+i].call(n,t)}n=n.nodeType===9?n.parentWindow:n.parentNode}while(n&&!t.cancelBubble)}return true};document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:true}))}})}})()}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});var n=32;var i=1;function h(e){this.$module=e;this.debounceFormSubmitTimer=null}h.prototype.handleKeyDown=function(e){var t=e.target;if(t.getAttribute("role")==="button"&&e.keyCode===n){e.preventDefault();t.click()}};h.prototype.debounce=function(e){var t=e.target;if(t.getAttribute("data-prevent-double-click")!=="true"){return}if(this.debounceFormSubmitTimer){e.preventDefault();return false}this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),i*1e3)};h.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown);this.$module.addEventListener("click",this.debounce)};var o=13;var a=32;function m(e){this.$module=e}m.prototype.init=function(){if(!this.$module){return}var e=typeof this.$module.open==="boolean";if(e){return}this.polyfillDetails()};m.prototype.polyfillDetails=function(){var e=this.$module;var t=this.$summary=e.getElementsByTagName("summary").item(0);var n=this.$content=e.getElementsByTagName("div").item(0);if(!t||!n){return}if(!n.id){n.id="details-content-"+r()}e.setAttribute("role","group");t.setAttribute("role","button");t.setAttribute("aria-controls",n.id);t.tabIndex=0;var i=e.getAttribute("open")!==null;if(i===true){t.setAttribute("aria-expanded","true");n.setAttribute("aria-hidden","false")}else{t.setAttribute("aria-expanded","false");n.setAttribute("aria-hidden","true");n.style.display="none"}this.polyfillHandleInputs(t,this.polyfillSetAttributes.bind(this))};m.prototype.polyfillSetAttributes=function(){var e=this.$module;var t=this.$summary;var n=this.$content;var i=t.getAttribute("aria-expanded")==="true";var r=n.getAttribute("aria-hidden")==="true";t.setAttribute("aria-expanded",i?"false":"true");n.setAttribute("aria-hidden",r?"false":"true");n.style.display=i?"none":"";var o=e.getAttribute("open")!==null;if(!o){e.setAttribute("open","open")}else{e.removeAttribute("open")}return true};m.prototype.polyfillHandleInputs=function(e,n){e.addEventListener("keypress",function(e){var t=e.target;if(e.keyCode===o||e.keyCode===a){if(t.nodeName.toLowerCase()==="summary"){e.preventDefault();if(t.click){t.click()}else{n(e)}}}});e.addEventListener("keyup",function(e){var t=e.target;if(e.keyCode===a){if(t.nodeName.toLowerCase()==="summary"){e.preventDefault()}}});e.addEventListener("click",n)};function y(e){this.$module=e;this.$textarea=e.querySelector(".govuk-js-character-count");if(this.$textarea){this.$countMessage=e.querySelector('[id="'+this.$textarea.id+'-info"]')}}y.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"};y.prototype.init=function(){var e=this.$module;var t=this.$textarea;var n=this.$countMessage;if(!t||!n){return}t.insertAdjacentElement("afterend",n);this.options=this.getDataset(e);var i=this.defaults.characterCountAttribute;if(this.options.maxwords){i=this.defaults.wordCountAttribute}this.maxLength=e.getAttribute(i);if(!this.maxLength){return}e.removeAttribute("maxlength");if("onpageshow"in window){window.addEventListener("pageshow",this.sync.bind(this))}else{window.addEventListener("DOMContentLoaded",this.sync.bind(this))}this.sync()};y.prototype.sync=function(){this.bindChangeEvents();this.updateCountMessage()};y.prototype.getDataset=function(e){var t={};var n=e.attributes;if(n){for(var i=0;i<n.length;i++){var r=n[i];var o=r.name.match(/^data-(.+)/);if(o){t[o[1]]=r.value}}}return t};y.prototype.count=function(e){var t;if(this.options.maxwords){var n=e.match(/\S+/g)||[];t=n.length}else{t=e.length}return t};y.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this));e.addEventListener("focus",this.handleFocus.bind(this));e.addEventListener("blur",this.handleBlur.bind(this))};y.prototype.checkIfValueChanged=function(){if(!this.$textarea.oldValue)this.$textarea.oldValue="";if(this.$textarea.value!==this.$textarea.oldValue){this.$textarea.oldValue=this.$textarea.value;this.updateCountMessage()}};y.prototype.updateCountMessage=function(){var e=this.$textarea;var t=this.options;var n=this.$countMessage;var i=this.count(e.value);var r=this.maxLength;var o=r-i;var a=t.threshold?t.threshold:0;var s=r*a/100;if(s>i){n.classList.add("govuk-character-count__message--disabled");n.setAttribute("aria-hidden",true)}else{n.classList.remove("govuk-character-count__message--disabled");n.removeAttribute("aria-hidden")}if(o<0){e.classList.add("govuk-textarea--error");n.classList.remove("govuk-hint");n.classList.add("govuk-error-message")}else{e.classList.remove("govuk-textarea--error");n.classList.remove("govuk-error-message");n.classList.add("govuk-hint")}var u="remaining";var c="character";var l=o;if(t.maxwords){c="word"}c=c+(o===-1||o===1?"":"s");u=o<0?"too many":"remaining";l=Math.abs(o);n.innerHTML="You have "+l+" "+c+" "+u};y.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)};y.prototype.handleBlur=function(){clearInterval(this.valueChecker)};function v(e){this.$module=e;this.$inputs=e.querySelectorAll('input[type="checkbox"]')}v.prototype.init=function(){var n=this.$module;var e=this.$inputs;f(e,function(e){var t=e.getAttribute("data-aria-controls");if(!t||!n.querySelector("#"+t)){return}e.setAttribute("aria-controls",t);e.removeAttribute("data-aria-controls")});if("onpageshow"in window){window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this))}else{window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this))}this.syncAllConditionalReveals();n.addEventListener("click",this.handleClick.bind(this))};v.prototype.syncAllConditionalReveals=function(){f(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))};v.prototype.syncConditionalRevealWithInputState=function(e){var t=this.$module.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-checkboxes__conditional")){var n=e.checked;e.setAttribute("aria-expanded",n);t.classList.toggle("govuk-checkboxes__conditional--hidden",!n)}};v.prototype.unCheckAllInputsExcept=function(n){var e=document.querySelectorAll('input[type="checkbox"][name="'+n.name+'"]');f(e,function(e){var t=n.form===e.form;if(t&&e!==n){e.checked=false}});this.syncAllConditionalReveals()};v.prototype.unCheckExclusiveInputs=function(n){var e=document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+n.name+'"]');f(e,function(e){var t=n.form===e.form;if(t){e.checked=false}});this.syncAllConditionalReveals()};v.prototype.handleClick=function(e){var t=e.target;if(t.type!=="checkbox"){return}var n=t.getAttribute("aria-controls");if(n){this.syncConditionalRevealWithInputState(t)}if(!t.checked){return}var i=t.getAttribute("data-behaviour")==="exclusive";if(i){this.unCheckAllInputsExcept(t)}else{this.unCheckExclusiveInputs(t)}};(function(e){var t="document"in this&&"matches"in document.documentElement;if(t)return;Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function e(t){var n=this;var i=(n.document||n.ownerDocument).querySelectorAll(t);var r=0;while(i[r]&&i[r]!==n){++r}return!!i[r]}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(e){var t="document"in this&&"closest"in document.documentElement;if(t)return;Element.prototype.closest=function e(t){var n=this;while(n){if(n.matches(t))return n;else n="SVGElement"in window&&n instanceof SVGElement?n.parentNode:n.parentElement}return null}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});function g(e){this.$module=e}g.prototype.init=function(){var e=this.$module;if(!e){return}e.focus();e.addEventListener("click",this.handleClick.bind(this))};g.prototype.handleClick=function(e){var t=e.target;if(this.focusTarget(t)){e.preventDefault()}};g.prototype.focusTarget=function(e){if(e.tagName!=="A"||e.href===false){return false}var t=this.getFragmentFromUrl(e.href);var n=document.getElementById(t);if(!n){return false}var i=this.getAssociatedLegendOrLabel(n);if(!i){return false}i.scrollIntoView();n.focus({preventScroll:true});return true};g.prototype.getFragmentFromUrl=function(e){if(e.indexOf("#")===-1){return false}return e.split("#").pop()};g.prototype.getAssociatedLegendOrLabel=function(e){var t=e.closest("fieldset");if(t){var n=t.getElementsByTagName("legend");if(n.length){var i=n[0];if(e.type==="checkbox"||e.type==="radio"){return i}var r=i.getBoundingClientRect().top;var o=e.getBoundingClientRect();if(o.height&&window.innerHeight){var a=o.top+o.height;if(a-r<window.innerHeight/2){return i}}}}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")};function b(e){this.$module=e}b.prototype.init=function(){var e=this.$module;if(!e){return}this.setFocus()};b.prototype.setFocus=function(){var e=this.$module;if(e.getAttribute("data-disable-auto-focus")==="true"){return}if(e.getAttribute("role")!=="alert"){return}if(!e.getAttribute("tabindex")){e.setAttribute("tabindex","-1");e.addEventListener("blur",function(){e.removeAttribute("tabindex")})}e.focus()};function w(e){this.$module=e;this.$menuButton=e&&e.querySelector(".govuk-js-header-toggle");this.$menu=this.$menuButton&&e.querySelector("#"+this.$menuButton.getAttribute("aria-controls"))}w.prototype.init=function(){if(!this.$module||!this.$menuButton||!this.$menu){return}this.syncState(this.$menu.classList.contains("govuk-header__navigation--open"));this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this))};w.prototype.syncState=function(e){this.$menuButton.classList.toggle("govuk-header__menu-button--open",e);this.$menuButton.setAttribute("aria-expanded",e)};w.prototype.handleMenuButtonClick=function(){var e=this.$menu.classList.toggle("govuk-header__navigation--open");this.syncState(e)};function E(e){this.$module=e;this.$inputs=e.querySelectorAll('input[type="radio"]')}E.prototype.init=function(){var n=this.$module;var e=this.$inputs;f(e,function(e){var t=e.getAttribute("data-aria-controls");if(!t||!n.querySelector("#"+t)){return}e.setAttribute("aria-controls",t);e.removeAttribute("data-aria-controls")});if("onpageshow"in window){window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this))}else{window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this))}this.syncAllConditionalReveals();n.addEventListener("click",this.handleClick.bind(this))};E.prototype.syncAllConditionalReveals=function(){f(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))};E.prototype.syncConditionalRevealWithInputState=function(e){var t=document.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-radios__conditional")){var n=e.checked;e.setAttribute("aria-expanded",n);t.classList.toggle("govuk-radios__conditional--hidden",!n)}};E.prototype.handleClick=function(e){var i=e.target;if(i.type!=="radio"){return}var t=document.querySelectorAll('input[type="radio"][aria-controls]');f(t,function(e){var t=e.form===i.form;var n=e.name===i.name;if(n&&t){this.syncConditionalRevealWithInputState(e)}}.bind(this))};(function(e){var t="document"in this&&"nextElementSibling"in document.documentElement;if(t)return;Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){var e=this.nextSibling;while(e&&e.nodeType!==1){e=e.nextSibling}return e}})}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(e){var t="document"in this&&"previousElementSibling"in document.documentElement;if(t)return;Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){var e=this.previousSibling;while(e&&e.nodeType!==1){e=e.previousSibling}return e}})}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});function x(e){this.$module=e;this.$tabs=e.querySelectorAll(".govuk-tabs__tab");this.keys={left:37,right:39,up:38,down:40};this.jsHiddenClass="govuk-tabs__panel--hidden"}x.prototype.init=function(){if(typeof window.matchMedia==="function"){this.setupResponsiveChecks()}else{this.setup()}};x.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)");this.mql.addListener(this.checkMode.bind(this));this.checkMode()};x.prototype.checkMode=function(){if(this.mql.matches){this.setup()}else{this.teardown()}};x.prototype.setup=function(){var e=this.$module;var t=this.$tabs;var n=e.querySelector(".govuk-tabs__list");var i=e.querySelectorAll(".govuk-tabs__list-item");if(!t||!n||!i){return}n.setAttribute("role","tablist");f(i,function(e){e.setAttribute("role","presentation")});f(t,function(e){this.setAttributes(e);e.boundTabClick=this.onTabClick.bind(this);e.boundTabKeydown=this.onTabKeydown.bind(this);e.addEventListener("click",e.boundTabClick,true);e.addEventListener("keydown",e.boundTabKeydown,true);this.hideTab(e)}.bind(this));var r=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(r);e.boundOnHashChange=this.onHashChange.bind(this);window.addEventListener("hashchange",e.boundOnHashChange,true)};x.prototype.teardown=function(){var e=this.$module;var t=this.$tabs;var n=e.querySelector(".govuk-tabs__list");var i=e.querySelectorAll(".govuk-tabs__list-item");if(!t||!n||!i){return}n.removeAttribute("role");f(i,function(e){e.removeAttribute("role","presentation")});f(t,function(e){e.removeEventListener("click",e.boundTabClick,true);e.removeEventListener("keydown",e.boundTabKeydown,true);this.unsetAttributes(e)}.bind(this));window.removeEventListener("hashchange",e.boundOnHashChange,true)};x.prototype.onHashChange=function(e){var t=window.location.hash;var n=this.getTab(t);if(!n){return}if(this.changingHash){this.changingHash=false;return}var i=this.getCurrentTab();this.hideTab(i);this.showTab(n);n.focus()};x.prototype.hideTab=function(e){this.unhighlightTab(e);this.hidePanel(e)};x.prototype.showTab=function(e){this.highlightTab(e);this.showPanel(e)};x.prototype.getTab=function(e){return this.$module.querySelector('.govuk-tabs__tab[href="'+e+'"]')};x.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1);e.setAttribute("id","tab_"+t);e.setAttribute("role","tab");e.setAttribute("aria-controls",t);e.setAttribute("aria-selected","false");e.setAttribute("tabindex","-1");var n=this.getPanel(e);n.setAttribute("role","tabpanel");n.setAttribute("aria-labelledby",e.id);n.classList.add(this.jsHiddenClass)};x.prototype.unsetAttributes=function(e){e.removeAttribute("id");e.removeAttribute("role");e.removeAttribute("aria-controls");e.removeAttribute("aria-selected");e.removeAttribute("tabindex");var t=this.getPanel(e);t.removeAttribute("role");t.removeAttribute("aria-labelledby");t.classList.remove(this.jsHiddenClass)};x.prototype.onTabClick=function(e){if(!e.target.classList.contains("govuk-tabs__tab")){return false}e.preventDefault();var t=e.target;var n=this.getCurrentTab();this.hideTab(n);this.showTab(t);this.createHistoryEntry(t)};x.prototype.createHistoryEntry=function(e){var t=this.getPanel(e);var n=t.id;t.id="";this.changingHash=true;window.location.hash=this.getHref(e).slice(1);t.id=n};x.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab();e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab();e.preventDefault();break}};x.prototype.activateNextTab=function(){var e=this.getCurrentTab();var t=e.parentNode.nextElementSibling;if(t){var n=t.querySelector(".govuk-tabs__tab")}if(n){this.hideTab(e);this.showTab(n);n.focus();this.createHistoryEntry(n)}};x.prototype.activatePreviousTab=function(){var e=this.getCurrentTab();var t=e.parentNode.previousElementSibling;if(t){var n=t.querySelector(".govuk-tabs__tab")}if(n){this.hideTab(e);this.showTab(n);n.focus();this.createHistoryEntry(n)}};x.prototype.getPanel=function(e){var t=this.$module.querySelector(this.getHref(e));return t};x.prototype.showPanel=function(e){var t=this.getPanel(e);t.classList.remove(this.jsHiddenClass)};x.prototype.hidePanel=function(e){var t=this.getPanel(e);t.classList.add(this.jsHiddenClass)};x.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false");e.parentNode.classList.remove("govuk-tabs__list-item--selected");e.setAttribute("tabindex","-1")};x.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true");e.parentNode.classList.add("govuk-tabs__list-item--selected");e.setAttribute("tabindex","0")};x.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")};x.prototype.getHref=function(e){var t=e.getAttribute("href");var n=t.slice(t.indexOf("#"),t.length);return n};function s(e){e=typeof e!=="undefined"?e:{};var t=typeof e.scope!=="undefined"?e.scope:document;var n=t.querySelectorAll('[data-module="govuk-button"]');f(n,function(e){new h(e).init()});var i=t.querySelectorAll('[data-module="govuk-accordion"]');f(i,function(e){new p(e).init()});var r=t.querySelectorAll('[data-module="govuk-details"]');f(r,function(e){new m(e).init()});var o=t.querySelectorAll('[data-module="govuk-character-count"]');f(o,function(e){new y(e).init()});var a=t.querySelectorAll('[data-module="govuk-checkboxes"]');f(a,function(e){new v(e).init()});var s=t.querySelector('[data-module="govuk-error-summary"]');new g(s).init();var u=t.querySelector('[data-module="govuk-header"]');new w(u).init();var c=t.querySelectorAll('[data-module="govuk-notification-banner"]');f(c,function(e){new b(e).init()});var l=t.querySelectorAll('[data-module="govuk-radios"]');f(l,function(e){new E(e).init()});var d=t.querySelectorAll('[data-module="govuk-tabs"]');f(d,function(e){new x(e).init()})}e.initAll=s;e.Accordion=p;e.Button=h;e.Details=m;e.CharacterCount=y;e.Checkboxes=v;e.ErrorSummary=g;e.Header=w;e.Radios=E;e.Tabs=x});!function(){"use strict";function n(){window.ga&&window.ga.loaded||function(e,t,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});t=t.createElement("script");t["async"]=!0,t.src="https://www.googletagmanager.com/gtm.js?id=GTM-53XG2JT",document.head.appendChild(t)}(window,document,"dataLayer")}var i="design_system_cookies_policy",r="26179049-17",o="116229859-1",a={analytics:["_ga","_gid","_gat_UA-"+r,"_gat_UA-"+o],essential:["design_system_cookies_policy"]},s={analytics:!1};function u(e,t,n){if(void 0===t)return p(e);var i;!1===t||null===t?u(i=e)&&(document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/",document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;domain="+window.location.hostname+";path=/",document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;domain=."+window.location.hostname+";path=/"):h(e,t,n=void 0===n?{days:30}:n)}function c(){var e,t=p(i);if(!t)return null;try{e=JSON.parse(t)}catch(e){return null}return e}function l(e){return e&&e.version>=window.GDS_CONSENT_COOKIE_VERSION}function t(e){var t,n=(n=c())||JSON.parse(JSON.stringify(s));for(t in e)n[t]=e[t];delete n.essential,n.version=window.GDS_CONSENT_COOKIE_VERSION,h(i,JSON.stringify(n),{days:365}),d()}function d(){var e,t=c();for(e in t=!l(t)?JSON.parse(JSON.stringify(s)):t)"version"!==e&&"essential"!==e&&("analytics"===e&&t[e]?(window["ga-disable-UA-"+r]=!1,window["ga-disable-UA-"+o]=!1,n()):(window["ga-disable-UA-"+r]=!0,window["ga-disable-UA-"+o]=!0),t[e]||a[e].forEach(function(e){u(e,null)}))}function f(e,t){if("essential"===e)return!0;try{return t[e]}catch(e){return console.error(e),!1}}function p(e){for(var t=e+"=",n=document.cookie.split(";"),i=0,r=n.length;i<r;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length))}return null}function h(e,t,n){!function(e){if(e===i)return 1;var t,n=c();for(t in l(n)||(n=s),a)if("-1"!==a[t].indexOf(e))return f(t,n)}(e)||(e=e+"="+t+"; path=/",(n=void 0===n?{}:n).days&&((t=new Date).setTime(t.getTime()+24*n.days*60*60*1e3),e=e+"; expires="+t.toGMTString()),"https:"===document.location.protocol&&(e+="; Secure"),document.cookie=e)}var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function y(e,t){return e(t={exports:{}},t.exports),t.exports}y(function(e,t){(function(e){var a,s,u,c;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,s=Object.prototype.hasOwnProperty("__defineGetter__"),u="Getters & setters cannot be defined on this javascript engine",c="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var i=String(t),r="value"in n||"writable"in n,o="get"in n&&typeof n.get,t="set"in n&&typeof n.set;if(o){if("function"!==o)throw new TypeError("Getter must be a function");if(!s)throw new TypeError(u);if(r)throw new TypeError(c);Object.__defineGetter__.call(e,i,n.get)}else e[i]=n.value;if(t){if("function"!==t)throw new TypeError("Setter must be a function");if(!s)throw new TypeError(u);if(r)throw new TypeError(c);Object.__defineSetter__.call(e,i,n.set)}return"value"in n&&(e[i]=n.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=Array,n=Object,i=n.prototype,e=e.prototype,r=function e(){},o=i.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,s=Function.prototype.toString,u=function e(t){try{return s.call(t),!0}catch(e){return!1}},c=e.slice,l=e.concat,d=e.push,e=Math.max,f=this;if(!function e(t){if("function"!=typeof t)return!1;if(a)return u(t);t=o.call(t);return"[object Function]"===t||"[object GeneratorFunction]"===t}(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var p,h=c.call(arguments,1),m=e(0,f.length-h.length),y=[],v=0;v<m;v++)d.call(y,"$"+v);return p=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof p){var e=f.apply(this,l.call(h,c.call(arguments)));return n(e)===e?e:this}return f.apply(t,l.call(h,c.call(arguments)))}),f.prototype&&(r.prototype=f.prototype,p.prototype=new r,r.prototype=null),p}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{})}),y(function(e,t){(function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(e){var t,n,s,u,c,l,i,r,o;function a(){return o--||clearTimeout(r),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(c(document,!0),r&&document.body.prototype&&clearTimeout(r),!!document.body.prototype)}"Element"in this&&"HTMLElement"in this||(!window.Element||window.HTMLElement?(window.Element=window.HTMLElement=new Function("return function Element() {}")(),n=(t=document.appendChild(document.createElement("body"))).appendChild(document.createElement("iframe")).contentWindow.document,s=Element.prototype=n.appendChild(n.createElement("*")),u={},c=function(e,t){var n,i,r,o=e.childNodes||[],a=-1;if(1===e.nodeType&&e.constructor!==Element)for(n in e.constructor=Element,u)i=u[n],e[n]=i;for(;r=t&&o[++a];)c(r,t);return e},l=document.getElementsByTagName("*"),i=document.createElement,o=100,s.attachEvent("onpropertychange",function(e){for(var t,n=e.propertyName,i=!u.hasOwnProperty(n),r=s[n],o=u[n],a=-1;t=l[++a];)1===t.nodeType&&(!i&&t[n]!==o||(t[n]=r));u[n]=r}),s.constructor=Element,s.hasAttribute||(s.hasAttribute=function(e){return null!==this.getAttribute(e)}),a()||(document.onreadystatechange=a,r=setInterval(a,25)),document.createElement=function(e){e=i(String(e).toLowerCase());return c(e)},document.removeChild(t)):window.HTMLElement=window.Element)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(e){var a,s,u,c;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,s=Object.prototype.hasOwnProperty("__defineGetter__"),u="Getters & setters cannot be defined on this javascript engine",c="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var i=String(t),r="value"in n||"writable"in n,o="get"in n&&typeof n.get,t="set"in n&&typeof n.set;if(o){if("function"!==o)throw new TypeError("Getter must be a function");if(!s)throw new TypeError(u);if(r)throw new TypeError(c);Object.__defineGetter__.call(e,i,n.get)}else e[i]=n.value;if(t){if("function"!==t)throw new TypeError("Setter must be a function");if(!s)throw new TypeError(u);if(r)throw new TypeError(c);Object.__defineSetter__.call(e,i,n.set)}return"value"in n&&(e[i]=n.value),e})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(a){var e,n;function s(e,t){for(var n=-1,i=e.length;++n<i;)if(n in e&&e[n]===t)return n;return-1}!function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}}(this)&&(n={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1},"undefined"!=typeof document&&"undefined"!=typeof window&&(e=window.Event&&window.Event.prototype||null,window.Event=Window.prototype.Event=function e(t,n){if(!t)throw new Error("Not enough arguments");if("createEvent"in document){var i=document.createEvent("Event"),r=!(!n||n.bubbles===a)&&n.bubbles,o=!(!n||n.cancelable===a)&&n.cancelable;return i.initEvent(t,r,o),i}return(i=document.createEventObject()).type=t,i.bubbles=!(!n||n.bubbles===a)&&n.bubbles,i.cancelable=!(!n||n.cancelable===a)&&n.cancelable,i},e&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:e}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var a=this,e=arguments[0],t=arguments[1];if(a===window&&e in n)throw new Error("In IE8 the event: "+e+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");a._events||(a._events={}),a._events[e]||(a._events[e]=function(e){var t,n=a._events[e.type].list,i=n.slice(),r=-1,o=i.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=a,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||a,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++r<o&&!e.cancelImmediate;)r in i&&-1!==s(n,t=i[r])&&"function"==typeof t&&t.call(a,e)},a._events[e].list=[],a.attachEvent&&a.attachEvent("on"+e,a._events[e])),a._events[e].list.push(t)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=this,n=arguments[0];t._events&&t._events[n]&&t._events[n].list&&-1!==(e=s(t._events[n].list,arguments[1]))&&(t._events[n].list.splice(e,1),t._events[n].list.length||(t.detachEvent&&t.detachEvent("on"+n,t._events[n]),delete t._events[n]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(t){if(!arguments.length)throw new Error("Not enough arguments");if(!t||"string"!=typeof t.type)throw new Error("DOM Events Exception 0");var n,i=this,r=t.type;try{t.bubbles||(t.cancelBubble=!0,n=function(e){e.cancelBubble=!0,(i||window).detachEvent("on"+r,n)},this.attachEvent("on"+r,n)),this.fireEvent("on"+r,t)}catch(e){for(t.target=i;"_events"in(t.currentTarget=i)&&"function"==typeof i._events[r]&&i._events[r].call(i,t),"function"==typeof i["on"+r]&&i["on"+r].call(i,t),(i=9===i.nodeType?i.parentWindow:i.parentNode)&&!t.cancelBubble;);}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{})});var v=y(function(e,t){(t=t).nodeListForEach=function(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t.call(window,e[n],n,e)},t.generateUniqueID=function(){var n=(new Date).getTime();"undefined"!=typeof window.performance&&"function"==typeof window.performance.now&&(n+=window.performance.now());return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}}),g=v.nodeListForEach;function b(e){this.$module=e}function w(e){this.$module=e}b.prototype.init=function(){var e;this.$cookieBanner=this.$module,this.$acceptButton=this.$module.querySelector(".js-cookie-banner-accept"),this.$rejectButton=this.$module.querySelector(".js-cookie-banner-reject"),this.$cookieMessage=this.$module.querySelector(".js-cookie-banner-message"),this.$cookieConfirmationAccept=this.$module.querySelector(".js-cookie-banner-confirmation-accept"),this.$cookieConfirmationReject=this.$module.querySelector(".js-cookie-banner-confirmation-reject"),this.$cookieBannerHideButtons=this.$module.querySelectorAll(".js-cookie-banner-hide"),this.$cookieBanner&&!this.onCookiesPage()&&((e=c())&&l(e)||(d(),this.$cookieBanner.removeAttribute("hidden")),this.$acceptButton.addEventListener("click",this.acceptCookies.bind(this)),this.$rejectButton.addEventListener("click",this.rejectCookies.bind(this)),g(this.$cookieBannerHideButtons,function(e){e.addEventListener("click",this.hideBanner.bind(this))}.bind(this)))},b.prototype.hideBanner=function(){this.$cookieBanner.setAttribute("hidden",!0)},b.prototype.acceptCookies=function(){t({analytics:!0}),this.$cookieMessage.setAttribute("hidden",!0),this.revealConfirmationMessage(this.$cookieConfirmationAccept)},b.prototype.rejectCookies=function(){t({analytics:!1}),this.$cookieMessage.setAttribute("hidden",!0),this.revealConfirmationMessage(this.$cookieConfirmationReject)},b.prototype.revealConfirmationMessage=function(e){e.removeAttribute("hidden"),e.getAttribute("tabindex")||(e.setAttribute("tabindex","-1"),e.addEventListener("blur",function(){e.removeAttribute("tabindex")})),e.focus()},b.prototype.onCookiesPage=function(){return"/cookies/"===window.location.pathname},w.prototype.init=function(){if(this.$module){if(!("IntersectionObserver"in window))return this.$module.classList.remove("app-back-to-top--hidden");var n,i,r,e,o=document.querySelector(".app-footer"),a=document.querySelector(".app-subnav");o&&a&&(i=n=!1,r=0,(e=new window.IntersectionObserver(function(e){var t=e.find(function(e){return e.target===o}),e=e.find(function(e){return e.target===a});t&&(n=t.isIntersecting),e&&(i=e.isIntersecting,r=e.intersectionRatio),i||n?this.$module.classList.remove("app-back-to-top--fixed"):this.$module.classList.add("app-back-to-top--fixed"),i&&1===r?this.$module.classList.add("app-back-to-top--hidden"):this.$module.classList.remove("app-back-to-top--hidden")}.bind(this))).observe(o),e.observe(a))}};var E={iframeResizer:y(function(e){function c(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function w(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function E(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function r(e){return F+"["+(e="Host page: "+(t=e),e=window.top!==window.self?window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+t:"Nested host page: "+t:e)+"]";var t}function n(e){return D[e]?D[e].log:y}function x(e,t){i("log",e,t,n(e))}function k(e,t){i("info",e,t,n(e))}function S(e,t){i("warn",e,t,!0)}function i(e,t,n,i){!0===i&&"object"==typeof window.console&&console[e](r(t),n)}function t(t){function n(){e("Height"),e("Width"),I(function(){j(g),O(b),l("resizedCallback",g)},g,"init")}function e(e){var t=Number(D[b]["max"+e]),n=Number(D[b]["min"+e]),i=e.toLowerCase(),e=Number(g[i]);x(b,"Checking "+i+" is in range "+n+"-"+t),e<n&&(e=n,x(b,"Set "+i+" to min value")),t<e&&(e=t,x(b,"Set "+i+" to max value")),g[i]=""+e}function i(){function e(){return i.constructor===Array?function(){var e=0,t=!1;for(x(b,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===n){t=!0;break}return t}():(e=D[b]&&D[b].remoteHost,x(b,"Checking connection is from: "+e),n===e);var e}var n=t.origin,i=D[b]&&D[b].checkOrigin;if(i&&""+n!="null"&&!e())throw new Error("Unexpected message received from: "+n+" for "+g.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return 1}function a(e){return v.substr(v.indexOf(":")+P+e)}function s(n,i){var e,t,r;e=function(){var e,t;N("Send Page Info","pageInfo:"+(e=document.body.getBoundingClientRect(),t=g.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})),n,i)},t=32,q[r=i]||(q[r]=setTimeout(function(){q[r]=null,e()},t))}function r(e){e=e.getBoundingClientRect();return L(b),{x:Math.floor(Number(e.left)+Number($.x)),y:Math.floor(Number(e.top)+Number($.y))}}function u(e){var t=e?r(g.iframe):{x:0,y:0},n={x:Number(g.width)+t.x,y:Number(g.height)+t.y};x(b,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):S(b,"Unable to scroll to requested position, window.parentIFrame not found"):($=n,o(),x(b,"--"))}function o(){!1!==l("scrollCallback",$)?O(b):C()}function c(e){var t,n=e.split("#")[1]||"",e=decodeURIComponent(n),i=document.getElementById(e)||document.getElementsByName(e)[0];i?(t=r(i),x(b,"Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),$={x:t.x,y:t.y},o(),x(b,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(n):x(b,"In page link #"+n+" not found and window.parentIFrame not found"):x(b,"In page link #"+n+" not found")}function l(e,t){return _(b,e,t)}function d(){switch(D[b]&&D[b].firstRun&&D[b]&&(D[b].firstRun=!1),g.type){case"close":D[b].closeRequestCallback?_(b,"closeRequestCallback",D[b].iframe):T(g.iframe);break;case"message":t=a(6),x(b,"MessageCallback passed: {iframe: "+g.iframe.id+", message: "+t+"}"),l("messageCallback",{iframe:g.iframe,message:JSON.parse(t)}),x(b,"--");break;case"scrollTo":u(!1);break;case"scrollToOffset":u(!0);break;case"pageInfo":s(D[b]&&D[b].iframe,b),o=b,e("Add ",w),D[o]&&(D[o].stopPageInfo=r);break;case"pageInfoStop":D[b]&&D[b].stopPageInfo&&(D[b].stopPageInfo(),delete D[b].stopPageInfo);break;case"inPageLink":c(a(9));break;case"reset":A(g);break;case"init":n(),l("initCallback",g.iframe);break;default:n()}function e(t,n){function i(){D[o]?s(D[o].iframe,o):r()}["scroll","resize"].forEach(function(e){x(o,t+e+" listener for sendPageInfo"),n(window,e,i)})}function r(){e("Remove ",E)}var o,t}var f,p,h,m,y,v=t.data,g={},b=null;"[iFrameResizerChild]Ready"===v?function(){for(var e in D)N("iFrame requested init",M(e),document.getElementById(e),e)}():F===(""+v).substr(0,R)&&v.substr(R).split(":")[0]in D?(y=v.substr(R).split(":"),g={iframe:D[y[0]]&&D[y[0]].iframe,id:y[0],height:y[1],width:y[2],type:y[3]},b=g.id,D[b]&&(D[b].loaded=!0),(m=g.type in{true:1,false:1,undefined:1})&&x(b,"Ignoring init message from meta parent page"),!m&&(h=!0,D[p=b]||(h=!1,S(g.type+" No settings for "+p+". Message was: "+v)),h)&&(x(b,"Received: "+v),f=!0,null===g.iframe&&(S(b,"IFrame ("+g.id+") not found"),f=!1),f&&i()&&d())):k(b,"Ignored: "+v)}function _(e,t,n){var i=null,r=null;if(D[e]){if("function"!=typeof(i=D[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");r=i(n)}return r}function l(e){e=e.id;delete D[e]}function T(e){var t=e.id;x(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){}_(t,"closedCallback",t),x(t,"--"),l(e)}function L(e){null===$&&x(e,"Get page position: "+($={x:window.pageXOffset!==h?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==h?window.pageYOffset:document.documentElement.scrollTop}).x+","+$.y)}function O(e){null!==$&&(window.scrollTo($.x,$.y),x(e,"Set page position: "+$.x+","+$.y),C())}function C(){$=null}function A(e){x(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),L(e.id),I(function(){j(e),N("reset","reset",e.iframe,e.id)},e,"reset")}function j(r){function n(e){function t(){for(var e in D)!function(t){function e(e){return"0px"===(D[t]&&D[t].iframe.style[e])}D[t]&&null!==D[t].iframe.offsetParent&&(e("height")||e("width"))&&N("Visibility change","resize",D[t].iframe,t)}(e)}function n(e){x("window","Mutation observed: "+e[0].target+" "+e[0].type),a(t,16)}var i;v||"0"!==r[e]||(v=!0,x(o,"Hidden iFrame detected, creating visibility listener"),(i=c())&&function(){var e=document.querySelector("body");new i(n).observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}())}function e(e){var t;t=e,r.id?(r.iframe.style[t]=r[t]+"px",x(r.id,"IFrame ("+o+") "+t+" set to "+r[t]+"px")):x("undefined","messageData id not set"),n(e)}var o=r.iframe.id;D[o]&&(D[o].sizeHeight&&e("height"),D[o].sizeWidth&&e("width"))}function I(e,t,n){n!==t.type&&g?(x(t.id,"Requesting animation frame"),g(e)):e()}function N(t,n,i,r,e){function o(){var e;i&&"contentWindow"in i&&null!==i.contentWindow?(e=D[r]&&D[r].targetOrigin,x(r,"["+t+"] Sending msg to iframe["+r+"] ("+n+") targetOrigin: "+e),i.contentWindow.postMessage(F+n,e)):S(r,"["+t+"] IFrame("+r+") not found")}function a(){e&&D[r]&&D[r].warningTimeout&&(D[r].msgTimeout=setTimeout(function(){!D[r]||D[r].loaded||s||(s=!0,S(r,"IFrame has not responded within "+D[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},D[r].warningTimeout))}var s=!1;r=r||i.id,D[r]&&(o(),a())}function M(e){return e+":"+D[e].bodyMarginV1+":"+D[e].sizeWidth+":"+D[e].log+":"+D[e].interval+":"+D[e].enablePublicMethods+":"+D[e].autoResize+":"+D[e].bodyMargin+":"+D[e].heightCalculationMethod+":"+D[e].bodyBackground+":"+D[e].bodyPadding+":"+D[e].tolerance+":"+D[e].inPageLinks+":"+D[e].resizeFrom+":"+D[e].widthCalculationMethod}function o(i,e){function t(n){var e,t=c();t&&(e=t,i.parentNode&&new e(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===i&&T(i)})})}).observe(i.parentNode,{childList:!0})),w(i,"load",function(){var e,t;N("iFrame.onload",n,i,h,!0),e=D[a]&&D[a].firstRun,t=D[a]&&D[a].heightCalculationMethod in b,!e&&t&&A({iframe:i,height:0,width:0,type:"init"})}),N("init",n,i,h,!0)}function n(e){e=e||{},D[a]={firstRun:!0,iframe:i,remoteHost:i.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(e),function(e){for(var t in B)B.hasOwnProperty(t)&&(D[a][t]=(e.hasOwnProperty(t)?e:B)[t])}(e),D[a]&&(D[a].targetOrigin=!0===D[a].checkOrigin?""===(e=D[a].remoteHost)||"file://"===e?"*":e:"*")}var r,o,a=(r=i.id,""===r&&(i.id=(o=e&&e.id||B.id+m++,null!==document.getElementById(o)&&(o+=m++),r=o),y=(e||{}).log,x(r,"Added missing iframe ID: "+r+" ("+i.src+")")),r);function s(e){Infinity!==D[a][e]&&0!==D[a][e]&&(i.style[e]=D[a][e]+"px",x(a,"Set "+e+" = "+D[a][e]+"px"))}function u(e){if(D[a]["min"+e]>D[a]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}a in D&&"iFrameResizer"in i?S(a,"Ignored iFrame, already setup."):(n(e),function(){switch(x(a,"IFrame scrolling "+(D[a]&&D[a].scrolling?"enabled":"disabled")+" for "+a),i.style.overflow=!1===(D[a]&&D[a].scrolling)?"hidden":"auto",D[a]&&D[a].scrolling){case"omit":break;case!0:i.scrolling="yes";break;case!1:i.scrolling="no";break;default:i.scrolling=D[a]?D[a].scrolling:"no"}}(),u("Height"),u("Width"),s("maxHeight"),s("minHeight"),s("maxWidth"),s("minWidth"),"number"!=typeof(D[a]&&D[a].bodyMargin)&&"0"!==(D[a]&&D[a].bodyMargin)||(D[a].bodyMarginV1=D[a].bodyMargin,D[a].bodyMargin=D[a].bodyMargin+"px"),t(M(a)),Function.prototype.bind&&D[a]&&(D[a].iframe.iFrameResizer={close:T.bind(null,D[a].iframe),removeListeners:l.bind(null,D[a].iframe),resize:N.bind(null,"Window resize","resize",D[a].iframe),moveToAnchor:function(e){N("Move to anchor","moveToAnchor:"+e,D[a].iframe,a)},sendMessage:function(e){N("Send Message","message:"+(e=JSON.stringify(e)),D[a].iframe,a)}}))}function a(e,t){null===Q&&(Q=setTimeout(function(){Q=null,e()},t))}function s(e){x("window","Trigger event: "+e),a(function(){d("Window "+e,"resize")},16)}function u(){"hidden"!==document.visibilityState&&(x("document","Trigger event: Visiblity change"),a(function(){d("Tab Visable","resize")},16))}function d(e,t){for(var n in D)D[i=n]&&"parent"===D[i].resizeFrom&&D[i].autoResize&&!D[i].firstRun&&N(e,t,document.getElementById(n),n);var i}function f(){function i(e,t){t&&(function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),o(t,e),r.push(t))}var r;return function(){for(var e=["moz","webkit","o","ms"],t=0;t<e.length&&!g;t+=1)g=window[e[t]+"RequestAnimationFrame"];g||x("setup","RequestAnimationFrame not supported")}(),w(window,"message",t),w(window,"resize",function(){s("resize")}),w(document,"visibilitychange",u),w(document,"-webkit-visibilitychange",u),w(window,"focusin",function(){s("focus")}),w(window,"focus",function(){s("focus")}),function(e,t){var n;switch(r=[],(n=e)&&n.enablePublicMethods&&S("enablePublicMethods option has been removed, public methods are now always available in the iFrame"),typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),i.bind(h,e));break;case"object":i(e,t);break;default:throw new TypeError("Unexpected data type ("+typeof t+")")}return r}}function p(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(n){return this.filter("iframe").each(function(e,t){o(t,n)}).end()}):k("","Unable to bind to jQuery, it is not fully loaded.")}var h,m,y,v,P,F,R,$,g,b,D,Q,B,q;"undefined"!=typeof window&&(P="message".length,R=(F="[iFrameSizer]").length,g=window.requestAnimationFrame,B={autoResize:!(Q=$=null),bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!(v=y=!(b={max:1,scroll:1,bodyScroll:1,documentElementScroll:1})),inPageLinks:!"Host Page",enablePublicMethods:!(m=0),heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!(D={}),maxHeight:Infinity,maxWidth:Infinity,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){S("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}},q={},window.jQuery&&p(window.jQuery),"function"==typeof h&&h.amd?h([],f):e.exports=f(),window.iFrameResize=window.iFrameResize||f())}),iframeResizerContentWindow:y(function(je){!function(l){if("undefined"!=typeof window){var n=!0,r=10,i="",o=0,a="",t=null,s="",u=!1,c={resize:1,click:1},d=128,f=!0,p=1,h="bodyOffset",m=h,y=!0,v="",g={},b=32,e=null,w=!1,E="[iFrameSizer]",x=E.length,k="",S={max:1,min:1,bodyScroll:1,documentElementScroll:1},_="child",T=!0,L=window.parent,O="*",C=0,A=!1,j=null,I=16,N=1,M="scroll",P=M,F=window,R=function(){se("MessageCallback function not defined")},$=function(){},D=function(){},Q={height:function(){return se("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return se("Custom width calculation function not defined"),document.body.scrollWidth}},B={},q=!1;try{var H=Object.create({},{passive:{get:function(){q=!0}},once:{get:function(){}}});window.addEventListener("test",te,H),window.removeEventListener("test",te,H)}catch(e){}var z,V,W,U,G,K,J,Y=Date.now||function(){return(new Date).getTime()},X={bodyOffset:function(){return document.body.offsetHeight+ge("marginTop")+ge("marginBottom")},offset:function(){return X.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Q.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,we(X))},min:function(){return Math.min.apply(null,we(X))},grow:function(){return X.max()},lowestElement:function(){return Math.max(X.bodyOffset()||X.documentElementOffset(),be("bottom",xe()))},taggedElement:function(){return Ee("bottom","data-iframe-height")}},Z={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Q.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Z.bodyScroll(),Z.documentElementScroll())},max:function(){return Math.max.apply(null,we(Z))},min:function(){return Math.min.apply(null,we(Z))},rightMostElement:function(){return be("right",xe())},taggedElement:function(){return Ee("right","data-iframe-width")}},ee=(z=ke,G=null,K=0,J=function(){K=Y(),G=null,U=z.apply(V,W),G||(V=W=null)},function(){var e=Y(),t=I-(e-(K=K||e));return V=this,W=arguments,t<=0||I<t?(G&&(clearTimeout(G),G=null),K=e,U=z.apply(V,W),G||(V=W=null)):G=G||setTimeout(J,t),U});ne(window,"message",Ce),ne(window,"readystatechange",Ae),Ae()}function te(){}function ne(e,t,n,i){"addEventListener"in window?e.addEventListener(t,n,!!q&&(i||{})):"attachEvent"in window&&e.attachEvent("on"+t,n)}function ie(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function re(e){return e.charAt(0).toUpperCase()+e.slice(1)}function oe(e){return E+"["+k+"] "+e}function ae(e){w&&"object"==typeof window.console&&console.log(oe(e))}function se(e){"object"==typeof window.console&&console.warn(oe(e))}function ue(){function e(e){return"true"===e}var t;t=v.substr(x).split(":"),k=t[0],o=l!==t[1]?Number(t[1]):o,u=l!==t[2]?e(t[2]):u,w=l!==t[3]?e(t[3]):w,b=l!==t[4]?Number(t[4]):b,n=l!==t[6]?e(t[6]):n,a=t[7],m=l!==t[8]?t[8]:m,i=t[9],s=t[10],C=l!==t[11]?Number(t[11]):C,g.enable=l!==t[12]&&e(t[12]),_=l!==t[13]?t[13]:_,P=l!==t[14]?t[14]:P,ae("Initialising iFrame ("+location.href+")"),function(){function e(e,t){return"function"==typeof e&&(ae("Setup custom "+t+"CalcMethod"),Q[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(function(){var e=window.iFrameResizer;ae("Reading data from page: "+JSON.stringify(e)),R="messageCallback"in e?e.messageCallback:R,$="readyCallback"in e?e.readyCallback:$,O="targetOrigin"in e?e.targetOrigin:O,m="heightCalculationMethod"in e?e.heightCalculationMethod:m,P="widthCalculationMethod"in e?e.widthCalculationMethod:P}(),m=e(m,"height"),P=e(P,"width"));ae("TargetOrigin for parent set to: "+O)}(),function(){l===a&&(a=o+"px");ce("margin",function(e,t){-1!==t.indexOf("-")&&(se("Negative CSS value ignored for "+e),t="");return t}("margin",a))}(),ce("background",i),ce("padding",s),(t=document.createElement("div")).style.clear="both",t.style.display="block",document.body.appendChild(t),pe(),he(),document.documentElement.style.height="",document.body.style.height="",ae('HTML & body height set to "auto"'),ae("Enable public methods"),F.parentIFrame={autoResize:function(e){return!0===e&&!1===n?(n=!0,me()):!1===e&&!0===n&&(n=!1,ye()),n},close:function(){Oe(0,0,"close"),ae("Disable outgoing messages"),T=!1,ae("Remove event listener: Message"),ie(window,"message",Ce),!0===n&&ye()},getId:function(){return k},getPageInfo:function(e){"function"==typeof e?(D=e,Oe(0,0,"pageInfo")):(D=function(){},Oe(0,0,"pageInfoStop"))},moveToAnchor:function(e){g.findTarget(e)},reset:function(){Le("parentIFrame.reset")},scrollTo:function(e,t){Oe(t,e,"scrollTo")},scrollToOffset:function(e,t){Oe(t,e,"scrollToOffset")},sendMessage:function(e,t){Oe(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){m=e,pe()},setWidthCalculationMethod:function(e){P=e,he()},setTargetOrigin:function(e){ae("Set targetOrigin: "+e),O=e},size:function(e,t){Se("size","parentIFrame.size("+((e||"")+(t?","+t:""))+")",e,t)}},me(),g=function(){function r(e){var t=e.getBoundingClientRect(),e={x:window.pageXOffset!==l?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==l?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(t.left,10)+parseInt(e.x,10),y:parseInt(t.top,10)+parseInt(e.y,10)}}function t(e){var t,n=e.split("#")[1]||e,e=decodeURIComponent(n),i=document.getElementById(e)||document.getElementsByName(e)[0];l!==i?(t=r(t=i),ae("Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),Oe(t.y,t.x,"scrollToOffset")):(ae("In page link (#"+n+") not found in iFrame, so sending to parent"),Oe(0,0,"inPageLink","#"+n))}function e(){""!==location.hash&&"#"!==location.hash&&t(location.href)}function n(){Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),function(e){"#"!==e.getAttribute("href")&&ne(e,"click",function(e){e.preventDefault(),t(this.getAttribute("href"))})})}function i(){Array.prototype.forEach&&document.querySelectorAll?(ae("Setting up location.hash handlers"),n(),ne(window,"hashchange",e),setTimeout(e,d)):se("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}g.enable?i():ae("In page linking not enabled");return{findTarget:t}}(),Se("init","Init message from host page"),$()}function ce(e,t){l!==t&&""!==t&&"null"!==t&&ae("Body "+e+' set to "'+(document.body.style[e]=t)+'"')}function le(n){var e={add:function(e){function t(){Se(n.eventName,n.eventType)}B[e]=t,ne(window,e,t,{passive:!0})},remove:function(e){var t=B[e];delete B[e],ie(window,e,t)}};n.eventNames&&Array.prototype.map?(n.eventName=n.eventNames[0],n.eventNames.map(e[n.method])):e[n.method](n.eventName),ae(re(n.method)+" event listener: "+n.eventType)}function de(e){le({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),le({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),le({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),le({method:e,eventType:"Input",eventName:"input"}),le({method:e,eventType:"Mouse Up",eventName:"mouseup"}),le({method:e,eventType:"Mouse Down",eventName:"mousedown"}),le({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),le({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),le({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),le({method:e,eventType:"Touch Start",eventName:"touchstart"}),le({method:e,eventType:"Touch End",eventName:"touchend"}),le({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),le({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),le({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),le({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===_&&le({method:e,eventType:"IFrame Resized",eventName:"resize"})}function fe(e,t,n,i){return t!==e&&(e in n||(se(e+" is not a valid option for "+i+"CalculationMethod."),e=t),ae(i+' calculation method set to "'+e+'"')),e}function pe(){m=fe(m,h,X,"height")}function he(){P=fe(P,M,Z,"width")}function me(){var e;!0===n?(de("add"),e=b<0,window.MutationObserver||window.WebKitMutationObserver?e?ve():t=function(){function t(e){function t(e){!1===e.complete&&(ae("Attach listeners to "+e.src),e.addEventListener("load",r,!1),e.addEventListener("error",o,!1),s.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function i(e){ae("Remove listeners from "+e.src),e.removeEventListener("load",r,!1),e.removeEventListener("error",o,!1),s.splice(s.indexOf(e),1)}function n(e,t,n){i(e.target),Se(t,n+": "+e.target.src,l,l)}function r(e){n(e,"imageLoad","Image loaded")}function o(e){n(e,"imageLoadFailed","Image load failed")}function a(e){Se("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}var s=[],u=window.MutationObserver||window.WebKitMutationObserver,c=function(){var e=document.querySelector("body");return c=new u(a),ae("Create body MutationObserver"),c.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),c}();return{disconnect:function(){"disconnect"in c&&(ae("Disconnect body MutationObserver"),c.disconnect(),s.forEach(i))}}}():(ae("MutationObserver not supported in this browser!"),ve())):ae("Auto Resize disabled")}function ye(){de("remove"),null!==t&&t.disconnect(),clearInterval(e)}function ve(){0!==b&&(ae("setInterval: "+b+"ms"),e=setInterval(function(){Se("interval","setInterval: "+b)},Math.abs(b)))}function ge(e,i){var t=0;return i=i||document.body,t="defaultView"in document&&"getComputedStyle"in document.defaultView?null!==(t=document.defaultView.getComputedStyle(i,null))?t[e]:0:function(e){if(/^\d+(px)?$/i.test(e))return parseInt(e,r);var t=i.style.left,n=i.runtimeStyle.left;return i.runtimeStyle.left=i.currentStyle.left,i.style.left=e||0,e=i.style.pixelLeft,i.style.left=t,i.runtimeStyle.left=n,e}(i.currentStyle[e]),parseInt(t,r)}function be(e,t){for(var n,i=t.length,r=0,o=re(e),a=Y(),s=0;s<i;s++)r<(n=t[s].getBoundingClientRect()[e]+ge("margin"+o,t[s]))&&(r=n);return a=Y()-a,ae("Parsed "+i+" HTML elements"),ae("Element position calculated in "+a+"ms"),I/2<(a=a)&&ae("Event throttle increased to "+(I=2*a)+"ms"),r}function we(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function Ee(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(se("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),be(e,n)}function xe(){return document.querySelectorAll("body *")}function ke(e,t,n,i){function r(){e in{init:1,interval:1,size:1}||!(m in S||u&&P in S)?e in{interval:1}||ae("No change in size detected"):Le(t)}var o,a;function s(e,t){return!(Math.abs(e-t)<=C)}o=l!==n?n:X[m](),a=l!==i?i:Z[P](),s(p,o)||u&&s(N,a)||"init"===e?(_e(),Oe(p=o,N=a,e)):r()}function Se(e,t,n,i){A&&e in c?ae("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||ae("Trigger event: "+t),("init"===e?ke:ee)(e,t,n,i))}function _e(){A||(A=!0,ae("Trigger event lock on")),clearTimeout(j),j=setTimeout(function(){A=!1,ae("Trigger event lock off"),ae("--")},d)}function Te(e){p=X[m](),N=Z[P](),Oe(p,N,e)}function Le(e){var t=m;m=h,ae("Reset trigger event: "+e),_e(),Te("reset"),m=t}function Oe(e,t,n,i,r){var o;!0===T&&(l===r?r=O:ae("Message targetOrigin: "+r),ae("Sending message to host page ("+(o=k+":"+(e+":"+t)+":"+n+(l!==i?":"+i:""))+")"),L.postMessage(E+o,r))}function Ce(t){var n={init:function(){v=t.data,L=t.source,ue(),f=!1,setTimeout(function(){y=!1},d)},reset:function(){y?ae("Page reset ignored by init"):(ae("Page size reset by host page"),Te("resetPage"))},resize:function(){Se("resizeParent","Parent window requested size check")},moveToAnchor:function(){g.findTarget(r())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=r();ae("PageInfoFromParent called from parent: "+e),D(JSON.parse(e)),ae(" --")},message:function(){var e=r();ae("MessageCallback called from parent: "+e),R(JSON.parse(e)),ae(" --")}};function i(){return t.data.split("]")[1].split(":")[0]}function r(){return t.data.substr(t.data.indexOf(":")+1)}function o(){return t.data.split(":")[2]in{true:1,false:1}}function e(){var e=i();e in n?n[e]():!je.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||o()||se("Unexpected message ("+t.data+")")}E===(""+t.data).substr(0,x)&&(!1===f?e():o()?n.init():ae('Ignored message of type "'+i()+'". Received before initialization.'))}function Ae(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()})};function x(e){this.$module=e}x.prototype.init=function(){this.$module&&this.resize()},x.prototype.resize=function(){var e=this.$module;try{E.iframeResizer({scrolling:"auto",autoResize:!0},e)}catch(e){e&&console.error(e.message)}};y(function(e,t){(function(e){var a,s,u,c;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(a=Object.defineProperty,s=Object.prototype.hasOwnProperty("__defineGetter__"),u="Getters & setters cannot be defined on this javascript engine",c="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(a&&(e===window||e===document||e===Element.prototype||e instanceof Element))return a(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var i=String(t),r="value"in n||"writable"in n,o="get"in n&&typeof n.get,t="set"in n&&typeof n.set;if(o){if("function"!==o)throw new TypeError("Getter must be a function");if(!s)throw new TypeError(u);if(r)throw new TypeError(c);Object.__defineGetter__.call(e,i,n.get)}else e[i]=n.value;if(t){if("function"!==t)throw new TypeError("Setter must be a function");if(!s)throw new TypeError(u);if(r)throw new TypeError(c);Object.__defineSetter__.call(e,i,n.set)}return"value"in n&&(e[i]=n.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(n){var e,i,r;"DOMTokenList"in this&&(!("classList"in(e=document.createElement("x")))||!e.classList.toggle("x",!1)&&!e.className)||("DOMTokenList"in(e=this)&&e.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(e.DOMTokenList=function(){var r=!0,t=function(e,t,n,i){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===r||!!i,get:n}):e.__defineGetter__(t,n)};try{t({},"support")}catch(e){r=!1}return function(r,o){var a=this,s=[],u={},c=0,e=0,l=function(){if(e<=c)for(;e<c;++e)!function(e){t(a,e,function(){return d(),s[e]},!1)}(e)},d=function(){var e,t,n=arguments,i=/\s+/;if(n.length)for(t=0;t<n.length;++t)if(i.test(n[t]))throw(e=new SyntaxError('String "'+n[t]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(s=("object"==typeof r[o]?""+r[o].baseVal:""+r[o]).replace(/^\s+|\s+$/g,"").split(i))[0]&&(s=[]),u={},t=0;t<s.length;++t)u[s[t]]=!0;c=s.length,l()};return d(),t(a,"length",function(){return d(),c}),a.toLocaleString=a.toString=function(){return d(),s.join(" ")},a.item=function(e){return d(),s[e]},a.contains=function(e){return d(),!!u[e]},a.add=function(){d.apply(a,e=arguments);for(var e,t,n=0,i=e.length;n<i;++n)u[t=e[n]]||(s.push(t),u[t]=!0);c!==s.length&&(c=s.length>>>0,"object"==typeof r[o]?r[o].baseVal=s.join(" "):r[o]=s.join(" "),l())},a.remove=function(){d.apply(a,e=arguments);for(var e,t={},n=0,i=[];n<e.length;++n)t[e[n]]=!0,delete u[e[n]];for(n=0;n<s.length;++n)t[s[n]]||i.push(s[n]);c=(s=i).length>>>0,"object"==typeof r[o]?r[o].baseVal=s.join(" "):r[o]=s.join(" "),l()},a.toggle=function(e,t){return d.apply(a,[e]),n!==t?t?(a.add(e),!0):(a.remove(e),!1):u[e]?(a.remove(e),!1):(a.add(e),!0)},a}}()),"classList"in(e=document.createElement("span"))&&(e.classList.toggle("x",!1),e.classList.contains("x")&&(e.classList.constructor.prototype.toggle=function(e){var t=arguments[1];if(t!==n)return this[(t=!!t)?"add":"remove"](e),t;t=!this.contains(e);return this[t?"add":"remove"](e),t})),"classList"in(e=document.createElement("span"))&&(e.classList.add("a","b"),e.classList.contains("b")||(i=e.classList.constructor.prototype.add,e.classList.constructor.prototype.add=function(){for(var e=arguments,t=arguments.length,n=0;n<t;n++)i.call(this,e[n])})),"classList"in(e=document.createElement("span"))&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b")&&(r=e.classList.constructor.prototype.remove,e.classList.constructor.prototype.remove=function(){for(var e=arguments,t=arguments.length,n=0;n<t;n++)r.call(this,e[n])})))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(e){var t,n,s,u,c,l,i,r,o;function a(){return o--||clearTimeout(r),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(c(document,!0),r&&document.body.prototype&&clearTimeout(r),!!document.body.prototype)}"Element"in this&&"HTMLElement"in this||(!window.Element||window.HTMLElement?(window.Element=window.HTMLElement=new Function("return function Element() {}")(),n=(t=document.appendChild(document.createElement("body"))).appendChild(document.createElement("iframe")).contentWindow.document,s=Element.prototype=n.appendChild(n.createElement("*")),u={},c=function(e,t){var n,i,r,o=e.childNodes||[],a=-1;if(1===e.nodeType&&e.constructor!==Element)for(n in e.constructor=Element,u)i=u[n],e[n]=i;for(;r=t&&o[++a];)c(r,t);return e},l=document.getElementsByTagName("*"),i=document.createElement,o=100,s.attachEvent("onpropertychange",function(e){for(var t,n=e.propertyName,i=!u.hasOwnProperty(n),r=s[n],o=u[n],a=-1;t=l[++a];)1===t.nodeType&&(!i&&t[n]!==o||(t[n]=r));u[n]=r}),s.constructor=Element,s.hasAttribute||(s.hasAttribute=function(e){return null!==this.getAttribute(e)}),a()||(document.onreadystatechange=a,r=setInterval(a,25)),document.createElement=function(e){e=i(String(e).toLowerCase());return c(e)},document.removeChild(t)):window.HTMLElement=window.Element)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{}),function(e){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(e){var l=!0,d=function(e,t,n,i){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===l||!!i,get:n}):e.__defineGetter__(t,n)};try{d({},"support")}catch(e){l=!1}var f=function(e,u,c){d(e.prototype,u,function(){var e,t=this,n="__defineGetter__DEFINE_PROPERTY"+u;if(t[n])return e;if(!(t[n]=!0)===l){for(var i,r=f.mirror||document.createElement("div"),o=r.childNodes,a=o.length,s=0;s<a;++s)if(o[s]._R===t){i=o[s];break}i=i||r.appendChild(document.createElement("div")),e=DOMTokenList.call(i,t,c)}else e=new DOMTokenList(t,c);return d(t,u,function(){return e}),delete t[n],e},!0)};f(e.Element,"classList","className"),f(e.HTMLElement,"classList","className"),f(e.HTMLLinkElement,"relList","rel"),f(e.HTMLAnchorElement,"relList","rel"),f(e.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof m&&m||{})});var k=v.nodeListForEach,S="app-tabs__item",_=S+"--current",T="js-tabs__item",L="app-tabs__heading",O=L+"--current",C="app-tabs__container--hidden",A="."+T+" a";function j(e){this.$module=e,this.$allTabContainers=this.$module.querySelectorAll(".js-tabs__container"),this.$allTabTogglers=this.$module.querySelectorAll(A),this.$allTabTogglersMarkedOpen=this.$module.querySelectorAll(".js-tabs__item--open a"),this.$mobileTabs=this.$module.querySelectorAll(".js-tabs__heading a")}j.prototype.init=function(){this.$module&&(this.enhanceMobileButtons(this.$mobileTabs),this.resetTabs(),this.$module.addEventListener("click",this.handleClick.bind(this)),k(this.$allTabTogglersMarkedOpen,function(e){e.click()}))},j.prototype.activateAndToggle=function(e){e.preventDefault();var t,n=e.target,e=this.$module.querySelectorAll('[aria-controls="'+n.getAttribute("aria-controls")+'"]');try{t=this.$module.querySelector("#"+n.getAttribute("aria-controls"))}catch(e){throw new Error("Invalid example ID given: "+e)}n="true"===n.getAttribute("aria-expanded");t&&(n?(t.classList.add(C),t.setAttribute("aria-hidden","true"),k(e,function(e){e.setAttribute("aria-expanded","false"),e.parentNode.classList.remove(_,O)})):(this.resetTabs(),t.classList.remove(C),t.setAttribute("aria-hidden","false"),k(e,function(e){e.setAttribute("aria-expanded","true"),e.parentNode.classList.contains(S)?e.parentNode.classList.add(_):e.parentNode.classList.contains(L)&&e.parentNode.classList.add(O)})))},j.prototype.enhanceMobileButtons=function(e){k(e,function(e){var t=document.createElement("button");t.setAttribute("aria-controls",e.getAttribute("aria-controls")),t.setAttribute("data-track",e.getAttribute("data-track")),t.classList.add("app-tabs__heading-button"),t.innerHTML=e.innerHTML,e.parentNode.appendChild(t),e.parentNode.removeChild(e)}),this.$allTabTogglers=this.$module.querySelectorAll(A)},j.prototype.resetTabs=function(){k(this.$allTabContainers,function(e){e.classList.contains("js-tabs__container--no-tabs")||(e.classList.add(C),e.setAttribute("aria-hidden","true"))}),k(this.$allTabTogglers,function(e){e.setAttribute("aria-expanded","false"),e.parentNode.classList.remove(_,O)})},j.prototype.handleClick=function(e){(e.target.parentNode.classList.contains(T)||e.target.parentNode.classList.contains("js-tabs__heading"))&&this.activateAndToggle(e)};var I=e(y(function(e,t){var n;n=function(){return i={},r.m=n=[function(e,t,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=c(n(1)),s=c(n(3)),u=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,s["default"]),r(l,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===i(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,u["default"])(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){e=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a["default"]({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){e=d("target",e);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:["copy","cut"],t=!!document.queryCommandSupported;return("string"==typeof e?[e]:e).forEach(function(e){t=t&&!!document.queryCommandSupported(e)}),t}}]),r=l;function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return n.resolveOptions(t),n.listenClick(e),n}function d(e,t){e="data-clipboard-"+e;if(t.hasAttribute(e))return t.getAttribute(e)}e.exports=r},function(e,t,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,s=n(2),u=(a=s)&&a.__esModule?a:{default:a};r(c,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";t=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=t+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,u["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,u["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(e!==undefined){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),r=c;function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.resolveOptions(e),this.initSelection()}e.exports=r},function(e,t){e.exports=function(e){var t,n="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t),n.toString());return n}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=n},function(e,t,n){var c=n(5),l=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return s=t,u=n,(a=e).addEventListener(s,u),{destroy:function(){a.removeEventListener(s,u)}};if(c.nodeList(e))return i=e,r=t,o=n,Array.prototype.forEach.call(i,function(e){e.addEventListener(r,o)}),{destroy:function(){Array.prototype.forEach.call(i,function(e){e.removeEventListener(r,o)})}};if(c.string(e))return l(document.body,e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,r,o,a,s,u}},function(e,n){n.node=function(e){return e!==undefined&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==undefined&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var a=n(7);function o(e,t,n,i,r){var o=function(t,n,e,i){return function(e){e.delegateTarget=a(e.target,n),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,o,r),{destroy:function(){e.removeEventListener(n,o,r)}}}e.exports=function(e,t,n,i,r){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return o(e,t,n,i,r)}))}},function(e,t){var n;"undefined"==typeof Element||Element.prototype.matches||((n=Element.prototype).matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector),e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}],r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0);function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i},e.exports=n()}));function N(e){this.$module=e}N.prototype.init=function(){var e,t=this.$module;t&&((e=document.createElement("button")).className="app-copy-button js-copy-button",e.setAttribute("aria-live","assertive"),e.textContent="Copy code",t.insertBefore(e,t.firstChild),this.copyAction())},N.prototype.copyAction=function(){try{new I(".js-copy-button",{target:function(e){return e.nextElementSibling}}).on("success",function(e){e.trigger.textContent="Code copied",e.clearSelection(),setTimeout(function(){e.trigger.textContent="Copy code"},5e3)})}catch(e){e&&console.log(e.message)}};var M=v.nodeListForEach,P="app-mobile-nav--active",F="app-header-mobile-nav-toggler--active",R="app-mobile-nav__subnav--active",$="app-mobile-nav__subnav-toggler--active";function D(e){this.$module=e||document,this.$nav=this.$module.querySelector(".js-app-mobile-nav"),this.$navToggler=this.$module.querySelector(".js-app-mobile-nav-toggler")}D.prototype.bindUIEvents=function(){var t=this.$nav,n=this.$navToggler;n.addEventListener("click",function(e){t.classList.contains(P)?(t.classList.remove(P),t.setAttribute("aria-hidden","true"),n.classList.remove(F),n.setAttribute("aria-expanded","false")):(t.classList.add(P),t.setAttribute("aria-hidden","false"),n.setAttribute("aria-expanded","true"),n.classList.add(F))}),t.addEventListener("click",function(e){var t,n,i=e.target;!i.classList.contains("js-mobile-nav-subnav-toggler")||(n=(t=i.parentNode).parentNode.querySelector(".js-app-mobile-nav-subnav"))&&(n.classList.contains(R)?(n.classList.remove(R),t.classList.remove($),n.setAttribute("aria-hidden","true"),i.setAttribute("aria-expanded","false")):(n.classList.add(R),t.classList.add($),n.setAttribute("aria-hidden","false"),i.setAttribute("aria-expanded","true")),e.preventDefault())})},D.prototype.addHeadings=function(){var e=this.$nav.querySelectorAll(".js-app-mobile-nav-subnav__link-heading");M(e,function(e){var t=document.createElement("h3");t.classList.add("app-mobile-nav-subnav__link-heading"),e.parentNode.appendChild(t),t.appendChild(e)})},D.prototype.includeAria=function(){this.$nav.setAttribute("aria-hidden","true"),this.$navToggler.setAttribute("aria-expanded","false");var e=this.$module.querySelectorAll(".js-mobile-nav-subnav-toggler");M(e,function(e,t){var n,i,r=e.parentNode.parentNode.querySelector(".js-app-mobile-nav-subnav");r&&(n=r.classList.contains(R),i="js-mobile-nav-subnav-toggler-"+t,r.setAttribute("id",t="js-mobile-nav__subnav-"+t),r.setAttribute("aria-hidden",n?"false":"true"),e.setAttribute("id",i),e.setAttribute("aria-expanded",n?"true":"false"),e.setAttribute("aria-controls",t))})},D.prototype.init=function(){"querySelector"in document&&"addEventListener"in window&&(this.addHeadings(),this.includeAria(),this.bindUIEvents())};var Q=e(y(function(e,t){var n;window,n=function(){return i={},r.m=n=[function(e,t,n){var h=n(1),m=n(6),y=n(7),v=n(16),g=n(18),b="prototype",w=function(e,t,n){var i,r,o,a=e&w.F,s=e&w.G,u=e&w.S,c=e&w.P,l=e&w.B,d=s?h:u?h[t]||(h[t]={}):(h[t]||{})[b],f=s?m:m[t]||(m[t]={}),p=f[b]||(f[b]={});for(i in n=s?t:n)r=((o=!a&&d&&d[i]!==undefined)?d:n)[i],o=l&&o?g(r,h):c&&"function"==typeof r?g(Function.call,r):r,d&&v(d,i,r,e&w.U),f[i]!=r&&y(f,i,o),c&&p[i]!=r&&(p[i]=r)};h.core=m,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,e.exports=w},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){n.r(t),n.d(t,"h",function(){return i}),n.d(t,"createElement",function(){return i}),n.d(t,"cloneElement",function(){return o}),n.d(t,"Component",function(){return b}),n.d(t,"render",function(){return w}),n.d(t,"rerender",function(){return f}),n.d(t,"options",function(){return x});var u=function e(){},x={},c=[],l=[];function i(e,t){for(var n,i,r,o=l,a=arguments.length;2<a--;)c.push(arguments[a]);for(t&&null!=t.children&&(c.length||c.push(t.children),delete t.children);c.length;)if((i=c.pop())&&i.pop!==undefined)for(a=i.length;a--;)c.push(i[a]);else"boolean"==typeof i&&(i=null),(r="function"!=typeof e)&&(null==i?i="":"number"==typeof i?i=String(i):"string"!=typeof i&&(r=!1)),r&&n?o[o.length-1]+=i:o===l?o=[i]:o.push(i),n=r;var s=new u;return s.nodeName=e,s.children=o,s.attributes=null==t?undefined:t,s.key=null==t?undefined:t.key,x.vnode!==undefined&&x.vnode(s),s}function k(e,t){for(var n in t)e[n]=t[n];return e}var r="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function o(e,t){return i(e.nodeName,k(k({},e.attributes),t),2<arguments.length?[].slice.call(arguments,2):e.children)}var s=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,a=[];function d(e){!e._dirty&&(e._dirty=!0)&&1==a.push(e)&&(x.debounceRendering||r)(f)}function f(){var e,t=a;for(a=[];e=t.pop();)e._dirty&&F(e)}function _(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function S(e){var t=k({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n!==undefined)for(var i in n)t[i]===undefined&&(t[i]=n[i]);return t}function T(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,n,i,r){if("key"!==(t="className"===t?"class":t))if("ref"===t)n&&n(null),i&&i(e);else if("class"!==t||r)if("style"===t){if(i&&"string"!=typeof i&&"string"!=typeof n||(e.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof n)for(var o in n)o in i||(e.style[o]="");for(var o in i)e.style[o]="number"==typeof i[o]&&!1===s.test(o)?i[o]+"px":i[o]}}else if("dangerouslySetInnerHTML"===t)i&&(e.innerHTML=i.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),i?n||e.addEventListener(t,h,a):e.removeEventListener(t,h,a),(e._listeners||(e._listeners={}))[t]=i}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==i?"":i}catch(e){}null!=i&&!1!==i||"spellcheck"==t||e.removeAttribute(t)}else{r=r&&t!==(t=t.replace(/^xlink:?/,""));null==i||!1===i?r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof i&&(r?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):e.setAttribute(t,i))}else e.className=i||""}function h(e){return this._listeners[e.type](x.event&&x.event(e)||e)}var L=[],O=0,C=!1,A=!1;function j(){for(var e;e=L.pop();)x.afterMount&&x.afterMount(e),e.componentDidMount&&e.componentDidMount()}function m(e,t,n,i,r,o){O++||(C=null!=r&&r.ownerSVGElement!==undefined,A=null!=e&&!("__preactattr_"in e));i=I(e,t,n,i,o);return r&&i.parentNode!==r&&r.appendChild(i),--O||(A=!1,o||j()),i}function I(e,t,n,i,r){var o=e,a=C;if("string"==typeof(t=null==t||"boolean"==typeof t?"":t)||"number"==typeof t)return e&&e.splitText!==undefined&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),N(e,!0))),o.__preactattr_=!0,o;var s=t.nodeName;if("function"==typeof s)return function e(t,n,i,r){for(var o=t&&t._component,a=o,s=t,u=o&&t._componentConstructor===n.nodeName,c=u,l=S(n);o&&!c&&(o=o._parentComponent);)c=o.constructor===n.nodeName;return o&&c&&(!r||o._component)?(P(o,l,3,i,r),t=o.base):(a&&!u&&(R(a),t=s=null),o=M(n.nodeName,l,i),t&&!o.nextBase&&(o.nextBase=t,s=null),P(o,l,1,i,r),t=o.base,s&&t!==s&&(s._component=null,N(s,!1))),t}(e,t,n,i);if(C="svg"===s||"foreignObject"!==s&&C,s=String(s),(!e||!_(e,s))&&(o=function e(t,n){n=n?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(s,C),e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),N(e,!0)}var r=o.firstChild,u=o.__preactattr_,s=t.children;if(null==u)for(var u=o.__preactattr_={},c=o.attributes,l=c.length;l--;)u[c[l].name]=c[l].value;return!A&&s&&1===s.length&&"string"==typeof s[0]&&null!=r&&r.splitText!==undefined&&null==r.nextSibling?r.nodeValue!=s[0]&&(r.nodeValue=s[0]):(s&&s.length||null!=r)&&function(e,t,n,i,r){var o,a,s,u,c,l,d=e.childNodes,f=[],p={},h=0,m=0,y=d.length,v=0,g=t?t.length:0;if(0!==y)for(var b=0;b<y;b++){var w=d[b],E=w.__preactattr_;null!=(k=g&&E?w._component?w._component.__key:E.key:null)?(h++,p[k]=w):(E||(w.splitText!==undefined?!r||w.nodeValue.trim():r))&&(f[v++]=w)}if(0!==g)for(b=0;b<g;b++){var x,k,S=null;if(null!=(k=(x=t[b]).key))h&&p[k]!==undefined&&(S=p[k],p[k]=undefined,h--);else if(m<v)for(o=m;o<v;o++)if(f[o]!==undefined&&(u=a=f[o],l=r,"string"==typeof(c=x)||"number"==typeof c?u.splitText!==undefined:"string"==typeof c.nodeName?!u._componentConstructor&&_(u,c.nodeName):l||u._componentConstructor===c.nodeName)){S=a,f[o]=undefined,o===v-1&&v--,o===m&&m++;break}S=I(S,x,n,i),s=d[b],S&&S!==e&&S!==s&&(null==s?e.appendChild(S):S===s.nextSibling?T(s):e.insertBefore(S,s))}if(h)for(var b in p)p[b]!==undefined&&N(p[b],!1);for(;m<=v;)(S=f[v--])!==undefined&&N(S,!1)}(o,s,n,i,A||null!=u.dangerouslySetInnerHTML),function e(t,n,i){for(var r in i)n&&null!=n[r]||null==i[r]||p(t,r,i[r],i[r]=undefined,C);for(r in n)"children"===r||"innerHTML"===r||r in i&&n[r]===("value"===r||"checked"===r?t:i)[r]||p(t,r,i[r],i[r]=n[r],C)}(o,t.attributes,u),C=a,o}function N(e,t){var n=e._component;n?R(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||T(e),y(e))}function y(e){for(e=e.lastChild;e;){var t=e.previousSibling;N(e,!0),e=t}}var v=[];function M(e,t,n){var i,r=v.length;for(e.prototype&&e.prototype.render?(i=new e(t,n),b.call(i,t,n)):((i=new b(t,n)).constructor=e,i.render=g);r--;)if(v[r].constructor===e)return i.nextBase=v[r].nextBase,v.splice(r,1),i;return i}function g(e,t,n){return this.constructor(e,n)}function P(e,t,n,i,r){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,"undefined"==typeof e.constructor.getDerivedStateFromProps&&(!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i)),i&&i!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=i),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===x.syncComponentUpdates&&e.base?d(e):F(e,1,r)),e.__ref&&e.__ref(e))}function F(e,t,n,i){if(!e._disable){var r,o=e.props,a=e.state,s=e.context,u=e.prevProps||o,c=e.prevState||a,l=e.prevContext||s,d=e.base,f=e.nextBase,p=d||f,h=e._component,m=!1,y=l;if(e.constructor.getDerivedStateFromProps&&(a=k(k({},a),e.constructor.getDerivedStateFromProps(o,a)),e.state=a),d&&(e.props=u,e.state=c,e.context=l,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(o,a,s)?m=!0:e.componentWillUpdate&&e.componentWillUpdate(o,a,s),e.props=o,e.state=a,e.context=s),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!m){o=e.render(o,a,s),e.getChildContext&&(s=k(k({},s),e.getChildContext())),d&&e.getSnapshotBeforeUpdate&&(y=e.getSnapshotBeforeUpdate(u,c));var v,g,b,a=o&&o.nodeName;if("function"==typeof a?(b=S(o),(r=h)&&r.constructor===a&&b.key==r.__key?P(r,b,1,s,!1):(v=r,e._component=r=M(a,b,s),r.nextBase=r.nextBase||f,r._parentComponent=e,P(r,b,0,s,!1),F(r,1,n,!0)),g=r.base):(b=p,(v=h)&&(b=e._component=null),!p&&1!==t||(b&&(b._component=null),g=function e(t,n,i,r,o,a){O++||(C=null!=o&&o.ownerSVGElement!==undefined,A=null!=t&&!("__preactattr_"in t));r=I(t,n,i,r,a);return o&&r.parentNode!==o&&o.appendChild(r),--O||(A=!1,a||j()),r}(b,o,s,n||!d,p&&p.parentNode,!0))),!p||g===p||r===h||(h=p.parentNode)&&g!==h&&(h.replaceChild(g,p),v||(p._component=null,N(p,!1))),v&&R(v),(e.base=g)&&!i){for(var w=e,E=e;E=E._parentComponent;)(w=E).base=g;g._component=w,g._componentConstructor=w.constructor}}for(!d||n?L.unshift(e):m||(e.componentDidUpdate&&e.componentDidUpdate(u,c,y),x.afterUpdate&&x.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);O||i||j()}}function R(e){x.beforeUnmount&&x.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?R(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),T(e.nextBase=t),v.push(e),y(t)),e.__ref&&e.__ref(null)}function b(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function w(e,t,n){return m(n,e,{},!1,t,!1)}k(b.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=k(k({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),d(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),F(this,2)},render:function e(){}}),t["default"]={h:i,createElement:i,cloneElement:o,Component:b,render:w,rerender:f,options:x}},function(e,t){e=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)},function(e,t,n){var i=n(8),r=n(40);e.exports=n(3)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(9),r=n(38),o=n(39),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(2);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(22);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(4);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(41)})},function(e,t,n){var i=n(2),r=n(1).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var o=n(1),a=n(7),s=n(17),u=n(10)("src"),i="toString",r=Function[i],c=(""+r).split(i);n(6).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,n,i){var r="function"==typeof n;r&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(r&&(s(n,u)||a(n,u,e[t]?""+e[t]:c.join(String(t)))),e===o?e[t]=n:i?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[u]||r.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var o=n(19);e.exports=function(i,r,e){if(o(i),r===undefined)return i;switch(e){case 1:return function(e){return i.call(r,e)};case 2:return function(e,t){return i.call(r,e,t)};case 3:return function(e,t,n){return i.call(r,e,t,n)}}return function(){return i.apply(r,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(42),r=n(28);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(11),r=n(12);e.exports=function(e){return i(r(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var u=n(21),c=n(24),l=n(43);e.exports=function(s){return function(e,t,n){var i,r=u(e),o=c(r.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((i=r[a++])!=i)return!0}else for(;a<o;a++)if((s||a in r)&&r[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var i=n(25),r=Math.min;e.exports=function(e){return 0<e?r(i(e),9007199254740991):0}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},function(e,t,n){var i=n(27)("keys"),r=n(10);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(6),r=n(1),o="__core-js_shared__",a=r[o]||(r[o]={});(e.exports=function(e,t){return a[e]||(a[e]=t!==undefined?t:{})})("versions",[]).push({version:i.version,mode:n(44)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(12);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(8).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(3)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){var i=n(0),r=n(32)(1);i(i.P+i.F*!n(13)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var b=n(18),w=n(11),E=n(29),x=n(24),i=n(47);e.exports=function(d,e){var f=1==d,p=2==d,h=3==d,m=4==d,y=6==d,v=5==d||y,g=e||i;return function(e,t,n){for(var i,r,o=E(e),a=w(o),s=b(t,n,3),u=x(a.length),c=0,l=f?g(e,u):p?g(e,0):undefined;c<u;c++)if((v||c in a)&&(r=s(i=a[c],c,o),d))if(f)l[c]=r;else if(r)switch(d){case 3:return!0;case 5:return i;case 6:return c;case 2:l.push(i)}else if(m)return!1;return y?-1:h||m?m:l}}},function(e,t,n){var i=n(22);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(27)("wks"),r=n(10),o=n(1).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){var i=n(0),r=n(23)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(13)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){var i=n(0);i(i.S,"Object",{create:n(52)})},function(e,t,n){t.__esModule=!0,t["default"]=void 0,n(14),n(30),n(31),n(35),n(49),n(50);var i=n(5),r=(n=n(51))&&n.__esModule?n:{default:n};function o(e){if(!e.element)throw new Error("element is not defined");if(!e.id)throw new Error("id is not defined");if(!e.source)throw new Error("source is not defined");Array.isArray(e.source)&&(e.source=a(e.source)),(0,i.render)((0,i.createElement)(r["default"],e),e.element)}var a=function e(n){return function(t,e){e(n.filter(function(e){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}))}};o.enhanceSelectElement=function(n){if(!n.selectElement)throw new Error("selectElement is not defined");var e;n.source||(e=[].filter.call(n.selectElement.options,function(e){return e.value||n.preserveNullOptions}),n.source=e.map(function(e){return e.textContent||e.innerText})),n.onConfirm=n.onConfirm||function(t){var e=[].filter.call(n.selectElement.options,function(e){return(e.textContent||e.innerText)===t})[0];e&&(e.selected=!0)},!n.selectElement.value&&n.defaultValue!==undefined||(t=n.selectElement.options[n.selectElement.options.selectedIndex],n.defaultValue=t.textContent||t.innerText),n.name===undefined&&(n.name=""),n.id===undefined&&(n.selectElement.id===undefined?n.id="":n.id=n.selectElement.id),n.autoselect===undefined&&(n.autoselect=!0);var t=document.createElement("div");n.selectElement.parentNode.insertBefore(t,n.selectElement),o(Object.assign({},n,{element:t})),n.selectElement.style.display="none",n.selectElement.id=n.selectElement.id+"-select"},t["default"]=o},function(e,t,n){e.exports=!n(3)&&!n(4)(function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var f=n(20),p=n(45),h=n(46),m=n(29),y=n(11),r=Object.assign;e.exports=!r||n(4)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=r({},e)[n]||Object.keys(r({},t)).join("")!=i})?function(e,t){for(var n=m(e),i=arguments.length,r=1,o=p.f,a=h.f;r<i;)for(var s,u=y(arguments[r++]),c=o?f(u).concat(o(u)):f(u),l=c.length,d=0;d<l;)a.call(u,s=c[d++])&&(n[s]=u[s]);return n}:r},function(e,t,n){var a=n(17),s=n(21),u=n(23)(!1),c=n(26)("IE_PROTO");e.exports=function(e,t){var n,i=s(e),r=0,o=[];for(n in i)n!=c&&a(i,n)&&o.push(n);for(;t.length>r;)a(i,n=t[r++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var i=n(25),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t){e.exports=!1},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(48);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(2),r=n(33),o=n(34)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=undefined),i(t)&&null===(t=t[o])&&(t=undefined)),t===undefined?Array:t}},function(e,t,n){var i=n(0),r=n(32)(2);i(i.P+i.F*!n(13)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(0);i(i.S,"Array",{isArray:n(33)})},function(e,t,n){t.__esModule=!0,t["default"]=void 0,n(14),n(36),n(30),n(31),n(35),n(55),n(58);var $=n(5),D=r(n(60)),i=r(n(61));function r(e){return e&&e.__esModule?e:{default:e}}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a={13:"enter",27:"escape",32:"space",38:"up",40:"down"};function B(){return!(!navigator.userAgent.match(/(iPod|iPhone|iPad)/g)||!navigator.userAgent.match(/AppleWebKit/g))}var s,u,n=(function e(t,n){t.prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n}(c,s=$.Component),(u=c.prototype).isQueryAnOption=function(e,t){var n=this;return-1!==t.map(function(e){return n.templateInputValue(e).toLowerCase()}).indexOf(e.toLowerCase())},u.componentDidMount=function(){this.pollInputElement()},u.componentWillUnmount=function(){clearTimeout(this.$pollInput)},u.pollInputElement=function(){var e=this;this.getDirectInputChanges(),this.$pollInput=setTimeout(function(){e.pollInputElement()},100)},u.getDirectInputChanges=function(){var e=this.elementReferences[-1];e&&e.value!==this.state.query&&this.handleInputChange({target:{value:e.value}})},u.componentDidUpdate=function(e,t){var n=this.state.focused,i=t.focused!==n;!i||null===n||this.elementReferences[n].focus();t=i&&null===t.focused;-1===n&&t&&(n=this.elementReferences[n]).setSelectionRange(0,n.value.length)},u.hasAutoselect=function(){return!B()&&this.props.autoselect},u.templateInputValue=function(e){var t=this.props.templates&&this.props.templates.inputValue;return t?t(e):e},u.templateSuggestion=function(e){var t=this.props.templates&&this.props.templates.suggestion;return t?t(e):e},u.handleComponentBlur=function(e){var t,n=this.state,i=n.options,r=n.query,n=n.selected;this.props.confirmOnBlur?(t=e.query||r,this.props.onConfirm(i[n])):t=r,this.setState({focused:null,menuOpen:e.menuOpen||!1,query:t,selected:null,validChoiceMade:this.isQueryAnOption(t,i)})},u.handleListMouseLeave=function(e){this.setState({hovered:null})},u.handleOptionBlur=function(e,t){var n=this.state,i=n.focused,r=n.menuOpen,o=n.options,a=n.selected,n=null===e.relatedTarget,e=e.relatedTarget===this.elementReferences[-1],i=i!==t&&-1!==i;(!i&&n||!i&&!e)&&(r=r&&B(),this.handleComponentBlur({menuOpen:r,query:this.templateInputValue(o[a])}))},u.handleInputBlur=function(e){var t=this.state,n=t.focused,i=t.menuOpen,r=t.options,o=t.query,t=t.selected;-1===n&&(i=i&&B(),t=B()?o:this.templateInputValue(r[t]),this.handleComponentBlur({menuOpen:i,query:t}))},u.handleInputChange=function(e){var n=this,t=this.props,i=t.minLength,r=t.source,o=t.showAllValues,a=this.hasAutoselect(),s=e.target.value,t=0===s.length,e=this.state.query.length!==s.length,i=s.length>=i;this.setState({query:s,ariaHint:t}),o||!t&&e&&i?r(s,function(e){var t=0<e.length;n.setState({menuOpen:t,options:e,selected:a&&t?0:-1,validChoiceMade:!1})}):!t&&i||this.setState({menuOpen:!1,options:[]})},u.handleInputClick=function(e){this.handleInputChange(e)},u.handleInputFocus=function(e){var t=this.state,n=t.query,i=t.validChoiceMade,r=t.options,t=this.props.minLength,o=!i&&n.length>=t&&0<r.length;o?this.setState(function(e){e=e.menuOpen;return{focused:-1,menuOpen:o||e,selected:-1}}):this.setState({focused:-1})},u.handleOptionFocus=function(e){this.setState({focused:e,hovered:null,selected:e})},u.handleOptionMouseEnter=function(e,t){B()||this.setState({hovered:t})},u.handleOptionClick=function(e,t){var n=this.state.options[t],t=this.templateInputValue(n);this.props.onConfirm(n),this.setState({focused:-1,hovered:null,menuOpen:!1,query:t,selected:-1,validChoiceMade:!0}),this.forceUpdate()},u.handleOptionMouseDown=function(e){e.preventDefault()},u.handleUpArrow=function(e){e.preventDefault();var t=this.state,e=t.menuOpen,t=t.selected;-1!==t&&e&&this.handleOptionFocus(t-1)},u.handleDownArrow=function(e){var t,n,i=this;e.preventDefault(),this.props.showAllValues&&!1===this.state.menuOpen?(e.preventDefault(),this.props.source("",function(e){i.setState({menuOpen:!0,options:e,selected:0,focused:0,hovered:null})})):!0===this.state.menuOpen&&(t=(n=this.state).menuOpen,e=n.options,(n=n.selected)!==e.length-1&&t&&this.handleOptionFocus(n+1))},u.handleSpace=function(e){var t=this;this.props.showAllValues&&!1===this.state.menuOpen&&""===this.state.query&&(e.preventDefault(),this.props.source("",function(e){t.setState({menuOpen:!0,options:e})})),-1!==this.state.focused&&(e.preventDefault(),this.handleOptionClick(e,this.state.focused))},u.handleEnter=function(e){this.state.menuOpen&&(e.preventDefault(),0<=this.state.selected&&this.handleOptionClick(e,this.state.selected))},u.handlePrintableKey=function(e){var t=this.elementReferences[-1];e.target===t||t.focus()},u.handleKeyDown=function(e){switch(a[e.keyCode]){case"up":this.handleUpArrow(e);break;case"down":this.handleDownArrow(e);break;case"space":this.handleSpace(e);break;case"enter":this.handleEnter(e);break;case"escape":this.handleComponentBlur({query:this.state.query});break;default:!function e(t){return 47<t&&t<58||32===t||8===t||64<t&&t<91||95<t&&t<112||185<t&&t<193||218<t&&t<223}(e.keyCode)||this.handlePrintableKey(e)}},u.render=function(){var e,o=this,t=this.props,n=t.cssNamespace,i=t.displayMenu,a=t.id,r=t.minLength,s=t.name,u=t.placeholder,c=t.required,l=t.showAllValues,d=t.tNoResults,f=t.tStatusQueryTooShort,p=t.tStatusNoResults,h=t.tStatusSelectedOption,m=t.tStatusResults,y=t.tAssistiveHint,v=t.dropdownArrow,g=this.state,b=g.focused,w=g.hovered,E=g.menuOpen,x=g.options,k=g.query,S=g.selected,_=g.ariaHint,T=g.validChoiceMade,L=this.hasAutoselect(),O=0===x.length,C=0!==k.length,A=k.length>=r,j=this.props.showNoOptionsFound&&-1===b&&O&&C&&A,I=n+"__wrapper",N=n+"__input",M=null!==b?" "+N+"--focused":"",P=this.props.showAllValues?" "+N+"--show-all-values":" "+N+"--default",F=n+"__dropdown-arrow-down",t=-1!==b&&null!==b,g=n+"__menu",O=g+"--"+i,C=g+"--"+(E||j?"visible":"hidden"),R=n+"__option",A=n+"__hint",i=this.templateInputValue(x[S]),L=i&&0===i.toLowerCase().indexOf(k.toLowerCase())&&L?k+i.substr(k.length):"",i=a+"__assistiveHint",_=_?{"aria-describedby":i}:null;return l&&"string"==typeof(e=v({className:F}))&&(e=(0,$.createElement)("div",{className:n+"__dropdown-arrow-down-wrapper",dangerouslySetInnerHTML:{__html:e}})),(0,$.createElement)("div",{className:I,onKeyDown:this.handleKeyDown},(0,$.createElement)(D["default"],{id:a,length:x.length,queryLength:k.length,minQueryLength:r,selectedOption:this.templateInputValue(x[S]),selectedOptionIndex:S,validChoiceMade:T,isInFocus:null!==this.state.focused,tQueryTooShort:f,tNoResults:p,tSelectedOption:h,tResults:m}),L&&(0,$.createElement)("span",null,(0,$.createElement)("input",{className:A,readonly:!0,tabIndex:"-1",value:L})),(0,$.createElement)("input",Q({"aria-expanded":E?"true":"false","aria-activedescendant":!!t&&a+"__option--"+b,"aria-owns":a+"__listbox","aria-autocomplete":this.hasAutoselect()?"both":"list"},_,{autoComplete:"off",className:N+M+P,id:a,onClick:function(e){return o.handleInputClick(e)},onBlur:this.handleInputBlur},{onInput:this.handleInputChange},{onFocus:this.handleInputFocus,name:s,placeholder:u,ref:function(e){o.elementReferences[-1]=e},type:"text",role:"combobox",required:c,value:k})),e,(0,$.createElement)("ul",{className:g+" "+O+" "+C,onMouseLeave:function(e){return o.handleListMouseLeave(e)},id:a+"__listbox",role:"listbox"},x.map(function(e,t){var n=(-1===b?S===t:b===t)&&null===w?" "+R+"--focused":"",i=t%2?" "+R+"--odd":"",r=B()?"<span id="+a+"__option-suffix--"+t+' style="border:0;clip:rect(0 0 0 0);height:1px;marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;whiteSpace:nowrap;width:1px"> '+(t+1)+" of "+x.length+"</span>":"";return(0,$.createElement)("li",{"aria-selected":b===t?"true":"false",className:R+n+i,dangerouslySetInnerHTML:{__html:o.templateSuggestion(e)+r},id:a+"__option--"+t,key:t,onBlur:function(e){return o.handleOptionBlur(e,t)},onClick:function(e){return o.handleOptionClick(e,t)},onMouseDown:o.handleOptionMouseDown,onMouseEnter:function(e){return o.handleOptionMouseEnter(e,t)},ref:function(e){o.elementReferences[t]=e},role:"option",tabIndex:"-1","aria-posinset":t+1,"aria-setsize":x.length})}),j&&(0,$.createElement)("li",{className:R+" "+R+"--no-results"},d())),(0,$.createElement)("span",{id:i,style:{display:"none"}},y()))},c);function c(e){var t;return(t=s.call(this,e)||this).elementReferences={},t.state={focused:null,hovered:null,menuOpen:!1,options:e.defaultValue?[e.defaultValue]:[],query:e.defaultValue,validChoiceMade:!1,selected:null,ariaHint:!0},t.handleComponentBlur=t.handleComponentBlur.bind(o(o(t))),t.handleKeyDown=t.handleKeyDown.bind(o(o(t))),t.handleUpArrow=t.handleUpArrow.bind(o(o(t))),t.handleDownArrow=t.handleDownArrow.bind(o(o(t))),t.handleEnter=t.handleEnter.bind(o(o(t))),t.handlePrintableKey=t.handlePrintableKey.bind(o(o(t))),t.handleListMouseLeave=t.handleListMouseLeave.bind(o(o(t))),t.handleOptionBlur=t.handleOptionBlur.bind(o(o(t))),t.handleOptionClick=t.handleOptionClick.bind(o(o(t))),t.handleOptionFocus=t.handleOptionFocus.bind(o(o(t))),t.handleOptionMouseDown=t.handleOptionMouseDown.bind(o(o(t))),t.handleOptionMouseEnter=t.handleOptionMouseEnter.bind(o(o(t))),t.handleInputBlur=t.handleInputBlur.bind(o(o(t))),t.handleInputChange=t.handleInputChange.bind(o(o(t))),t.handleInputFocus=t.handleInputFocus.bind(o(o(t))),t.pollInputElement=t.pollInputElement.bind(o(o(t))),t.getDirectInputChanges=t.getDirectInputChanges.bind(o(o(t))),t}(t["default"]=n).defaultProps={autoselect:!1,cssNamespace:"autocomplete",defaultValue:"",displayMenu:"inline",minLength:0,name:"input-autocomplete",placeholder:"",onConfirm:function(){},confirmOnBlur:!0,showNoOptionsFound:!0,showAllValues:!1,required:!1,tNoResults:function(){return"No results found"},tAssistiveHint:function(){return"When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures."},dropdownArrow:i["default"]}},function(e,t,n){var i=n(9),r=n(53),o=n(28),a=n(26)("IE_PROTO"),s=function(){},u="prototype",c=function(){var e=n(15)("iframe"),t=o.length;for(e.style.display="none",n(54).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c[u][o[t]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=i(e),n=new s,s[u]=null,n[a]=e):n=c(),t===undefined?n:r(n,t)}},function(e,t,n){var a=n(8),s=n(9),u=n(20);e.exports=n(3)?Object.defineProperties:function(e,t){s(e);for(var n,i=u(t),r=i.length,o=0;o<r;)a.f(e,n=i[o++],t[n]);return e}},function(e,t,n){n=n(1).document;e.exports=n&&n.documentElement},function(e,t,n){var i=n(0);i(i.P,"Function",{bind:n(56)})},function(e,t,n){var o=n(19),a=n(2),s=n(57),u=[].slice,c={};e.exports=Function.bind||function(t){var n=o(this),i=u.call(arguments,1),r=function(){var e=i.concat(u.call(arguments));return this instanceof r?function(e,t,n){if(!(t in c)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";c[t]=Function("F,a","return new F("+i.join(",")+")")}return c[t](e,n)}(n,e.length,e):s(n,e,t)};return a(n.prototype)&&(r.prototype=n.prototype),r}},function(e,t){e.exports=function(e,t,n){var i=n===undefined;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){n(59)("match",1,function(i,r,e){return[function(e){var t=i(this),n=e==undefined?undefined:e[r];return n!==undefined?n.call(e,t):new RegExp(e)[r](String(t))},e]})},function(e,t,n){var a=n(7),s=n(16),u=n(4),c=n(12),l=n(34);e.exports=function(t,e,n){var i=l(t),r=n(c,i,""[t]),n=r[0],o=r[1];u(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})&&(s(String.prototype,t,n),a(RegExp.prototype,i,2==e?function(e,t){return o.call(e,this,t)}:function(e){return o.call(e,this)}))}},function(e,t,n){t.__esModule=!0,t["default"]=void 0,n(36);var h=n(5),i=function e(r,o,a){var s;return function(){var t=this,n=arguments,e=function e(){s=null,a||r.apply(t,n)},i=a&&!s;clearTimeout(s),s=setTimeout(e,o),i&&r.apply(t,n)}},r=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))||this).state={bump:!1,debounced:!1},e}!function e(t,n){t.prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n}(e,r);var t=e.prototype;return t.componentWillMount=function(){var e=this;this.debounceStatusUpdate=i(function(){var t;e.state.debounced||(t=!e.props.isInFocus||e.props.validChoiceMade,e.setState(function(e){return{bump:!e.bump,debounced:!0,silenced:t}}))},1400)},t.componentWillReceiveProps=function(e){e.queryLength,this.setState({debounced:!1})},t.render=function(){var e=this.props,t=e.id,n=e.length,i=e.queryLength,r=e.minQueryLength,o=e.selectedOption,a=e.selectedOptionIndex,s=e.tQueryTooShort,u=e.tNoResults,c=e.tSelectedOption,l=e.tResults,d=this.state,f=d.bump,p=d.debounced,e=d.silenced,d=i<r,i=0===n,o=o?c(o,n,a):"",a=d?s(r):i?u():l(n,o);return this.debounceStatusUpdate(),(0,h.createElement)("div",{style:{border:"0",clip:"rect(0 0 0 0)",height:"1px",marginBottom:"-1px",marginRight:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},(0,h.createElement)("div",{id:t+"__status--A",role:"status","aria-atomic":"true","aria-live":"polite"},!e&&p&&f?a:""),(0,h.createElement)("div",{id:t+"__status--B",role:"status","aria-atomic":"true","aria-live":"polite"},e||!p||f?"":a))},e}(h.Component);(t["default"]=r).defaultProps={tQueryTooShort:function(e){return"Type in "+e+" or more characters for results"},tNoResults:function(){return"No search results"},tSelectedOption:function(e,t,n){return e+" "+(n+1)+" of "+t+" is highlighted"},tResults:function(e,t){return e+" "+(1===e?"result":"results")+" "+(1===e?"is":"are")+" available. "+t}}},function(e,t,n){t.__esModule=!0,t["default"]=void 0;var i=n(5);t["default"]=function(e){e=e.className;return(0,i.createElement)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:e,focusable:"false"},(0,i.createElement)("g",{stroke:"none",fill:"none","fill-rule":"evenodd"},(0,i.createElement)("polygon",{fill:"#000000",points:"0 0 22 0 11 17"})))}}],r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=37)["default"];function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i},e.exports=n()})),B=y(function(r,e){!function(){var t,l,d,e,f,p,h,m,y,v,g,b,w,E,x,k,S,_,T,L,O,C,A,j,n,i,R=function(e){var t=new R.Builder;return t.pipeline.add(R.trimmer,R.stopWordFilter,R.stemmer),t.searchPipeline.add(R.stemmer),e.call(t,t),t.build()};R.version="2.3.6",R.utils={},R.utils.warn=(t=this,function(e){t.console&&console.warn&&console.warn(e)}),R.utils.asString=function(e){return null==e?"":e.toString()},R.utils.clone=function(e){if(null===e||e===undefined)return e;for(var t=Object.create(null),n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],o=e[r];if(Array.isArray(o))t[r]=o.slice();else{if("string"!=typeof o&&"number"!=typeof o&&"boolean"!=typeof o)throw new TypeError("clone is not deep and does not support nested objects");t[r]=o}}return t},R.FieldRef=function(e,t,n){this.docRef=e,this.fieldName=t,this._stringValue=n},R.FieldRef.joiner="/",R.FieldRef.fromString=function(e){var t=e.indexOf(R.FieldRef.joiner);if(-1===t)throw"malformed field ref string";var n=e.slice(0,t),t=e.slice(t+1);return new R.FieldRef(t,n,e)},R.FieldRef.prototype.toString=function(){return this._stringValue==undefined&&(this._stringValue=this.fieldName+R.FieldRef.joiner+this.docRef),this._stringValue},R.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},R.Set.complete={intersect:function(e){return e},union:function(e){return e},contains:function(){return!0}},R.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},R.Set.prototype.contains=function(e){return!!this.elements[e]},R.Set.prototype.intersect=function(e){var t,n=[];if(e===R.Set.complete)return this;if(e===R.Set.empty)return e;for(var i=this.length<e.length?(t=this,e):(t=e,this),r=Object.keys(t.elements),o=0;o<r.length;o++){var a=r[o];a in i.elements&&n.push(a)}return new R.Set(n)},R.Set.prototype.union=function(e){return e===R.Set.complete?R.Set.complete:e===R.Set.empty?this:new R.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},R.idf=function(e,t){var n,i=0;for(n in e)"_index"!=n&&(i+=Object.keys(e[n]).length);return Math.log(1+Math.abs((t-i+.5)/(i+.5)))},R.Token=function(e,t){this.str=e||"",this.metadata=t||{}},R.Token.prototype.toString=function(){return this.str},R.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},R.Token.prototype.clone=function(e){return new R.Token((e=e||function(e){return e})(this.str,this.metadata),this.metadata)},R.tokenizer=function(e,t){if(null==e||e==undefined)return[];if(Array.isArray(e))return e.map(function(e){return new R.Token(R.utils.asString(e).toLowerCase(),R.utils.clone(t))});for(var n=e.toString().trim().toLowerCase(),i=n.length,r=[],o=0,a=0;o<=i;o++){var s,u=o-a;!n.charAt(o).match(R.tokenizer.separator)&&o!=i||(0<u&&((s=R.utils.clone(t)||{}).position=[a,u],s.index=r.length,r.push(new R.Token(n.slice(a,o),s))),a=o+1)}return r},R.tokenizer.separator=/[\s\-]+/,R.Pipeline=function(){this._stack=[]},R.Pipeline.registeredFunctions=Object.create(null),R.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&R.utils.warn("Overwriting existing registered function: "+t),e.label=t,R.Pipeline.registeredFunctions[e.label]=e},R.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||R.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},R.Pipeline.load=function(e){var n=new R.Pipeline;return e.forEach(function(e){var t=R.Pipeline.registeredFunctions[e];if(!t)throw new Error("Cannot load unregistered function: "+e);n.add(t)}),n},R.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(e){R.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},R.Pipeline.prototype.after=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);e=this._stack.indexOf(e);if(-1==e)throw new Error("Cannot find existingFn");this._stack.splice(e+=1,0,t)},R.Pipeline.prototype.before=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);e=this._stack.indexOf(e);if(-1==e)throw new Error("Cannot find existingFn");this._stack.splice(e,0,t)},R.Pipeline.prototype.remove=function(e){e=this._stack.indexOf(e);-1!=e&&this._stack.splice(e,1)},R.Pipeline.prototype.run=function(e){for(var t=this._stack.length,n=0;n<t;n++){for(var i=this._stack[n],r=[],o=0;o<e.length;o++){var a=i(e[o],o,e);if(void 0!==a&&""!==a)if(Array.isArray(a))for(var s=0;s<a.length;s++)r.push(a[s]);else r.push(a)}e=r}return e},R.Pipeline.prototype.runString=function(e,t){t=new R.Token(e,t);return this.run([t]).map(function(e){return e.toString()})},R.Pipeline.prototype.reset=function(){this._stack=[]},R.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return R.Pipeline.warnIfFunctionNotRegistered(e),e.label})},R.Vector=function(e){this._magnitude=0,this.elements=e||[]},R.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,n=this.elements.length/2,i=n-t,r=Math.floor(i/2),o=this.elements[2*r];1<i&&(o<e&&(t=r),e<o&&(n=r),o!=e);)i=n-t,r=t+Math.floor(i/2),o=this.elements[2*r];return o==e||e<o?2*r:o<e?2*(r+1):void 0},R.Vector.prototype.insert=function(e,t){this.upsert(e,t,function(){throw"duplicate index"})},R.Vector.prototype.upsert=function(e,t,n){this._magnitude=0;var i=this.positionForIndex(e);this.elements[i]==e?this.elements[i+1]=n(this.elements[i+1],t):this.elements.splice(i,0,e,t)},R.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,n=1;n<t;n+=2){var i=this.elements[n];e+=i*i}return this._magnitude=Math.sqrt(e)},R.Vector.prototype.dot=function(e){for(var t,n,i=0,r=this.elements,o=e.elements,a=r.length,s=o.length,u=0,c=0;u<a&&c<s;)(t=r[u])<(n=o[c])?u+=2:n<t?c+=2:t==n&&(i+=r[u+1]*o[c+1],u+=2,c+=2);return i},R.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},R.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,n=0;t<this.elements.length;t+=2,n++)e[n]=this.elements[t];return e},R.Vector.prototype.toJSON=function(){return this.elements},R.stemmer=(l={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},d={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[aeiouy]",e="[^aeiou][^aeiouy]*",f=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),p=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),h=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),m=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),y=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,b=/^(.+?)(ed|ing)$/,w=/.$/,E=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),k=new RegExp("^"+e+i+"[^aeiouwxy]$"),S=/^(.+?[^aeiou])y$/,_=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,T=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,L=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,O=/^(.+?)(s|t)(ion)$/,C=/^(.+?)e$/,A=/ll$/,j=new RegExp("^"+e+i+"[^aeiouwxy]$"),n=function e(t){var n,i,r,o,a,s,u,c;return t.length<3?t:("y"==(i=t.substr(0,1))&&(t=i.toUpperCase()+t.substr(1)),u=v,(a=y).test(t)?t=t.replace(a,"$1$2"):u.test(t)&&(t=t.replace(u,"$1$2")),u=b,(a=g).test(t)?(c=a.exec(t),(a=f).test(c[1])&&(t=t.replace(a=w,""))):u.test(t)&&(s=(c=u.exec(t))[1],(u=m).test(s)&&(r=x,o=k,(u=E).test(t=s)?t+="e":r.test(t)?t=t.replace(a=w,""):o.test(t)&&(t+="e"))),(a=S).test(t)&&(t=(s=(c=a.exec(t))[1])+"i"),(a=_).test(t)&&(s=(c=a.exec(t))[1],n=c[2],(a=f).test(s)&&(t=s+l[n])),(a=T).test(t)&&(s=(c=a.exec(t))[1],n=c[2],(a=f).test(s)&&(t=s+d[n])),u=O,(a=L).test(t)?(s=(c=a.exec(t))[1],(a=p).test(s)&&(t=s)):u.test(t)&&(s=(c=u.exec(t))[1]+c[2],(u=p).test(s)&&(t=s)),(a=C).test(t)&&(s=(c=a.exec(t))[1],u=h,r=j,((a=p).test(s)||u.test(s)&&!r.test(s))&&(t=s)),u=p,(a=A).test(t)&&u.test(t)&&(t=t.replace(a=w,"")),"y"==i?i.toLowerCase()+t.substr(1):t)},function(e){return e.update(n)}),R.Pipeline.registerFunction(R.stemmer,"stemmer"),R.generateStopWordFilter=function(e){var t=e.reduce(function(e,t){return e[t]=t,e},{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},R.stopWordFilter=R.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),R.Pipeline.registerFunction(R.stopWordFilter,"stopWordFilter"),R.trimmer=function(e){return e.update(function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")})},R.Pipeline.registerFunction(R.trimmer,"trimmer"),R.TokenSet=function(){this["final"]=!1,this.edges={},this.id=R.TokenSet._nextId,R.TokenSet._nextId+=1},R.TokenSet._nextId=1,R.TokenSet.fromArray=function(e){for(var t=new R.TokenSet.Builder,n=0,i=e.length;n<i;n++)t.insert(e[n]);return t.finish(),t.root},R.TokenSet.fromClause=function(e){return"editDistance"in e?R.TokenSet.fromFuzzyString(e.term,e.editDistance):R.TokenSet.fromString(e.term)},R.TokenSet.fromFuzzyString=function(e,t){for(var n=new R.TokenSet,i=[{node:n,editsRemaining:t,str:e}];i.length;){var r,o,a,s,u,c,l=i.pop();0<l.str.length&&((u=l.str.charAt(0))in l.node.edges?r=l.node.edges[u]:(r=new R.TokenSet,l.node.edges[u]=r),1==l.str.length&&(r["final"]=!0),i.push({node:r,editsRemaining:l.editsRemaining,str:l.str.slice(1)})),0!=l.editsRemaining&&("*"in l.node.edges?o=l.node.edges["*"]:(o=new R.TokenSet,l.node.edges["*"]=o),0==l.str.length&&(o["final"]=!0),i.push({node:o,editsRemaining:l.editsRemaining-1,str:l.str}),1<l.str.length&&i.push({node:l.node,editsRemaining:l.editsRemaining-1,str:l.str.slice(1)}),1==l.str.length&&(l.node["final"]=!0),1<=l.str.length&&("*"in l.node.edges?a=l.node.edges["*"]:(a=new R.TokenSet,l.node.edges["*"]=a),1==l.str.length&&(a["final"]=!0),i.push({node:a,editsRemaining:l.editsRemaining-1,str:l.str.slice(1)})),1<l.str.length&&(s=l.str.charAt(0),(u=l.str.charAt(1))in l.node.edges?c=l.node.edges[u]:(c=new R.TokenSet,l.node.edges[u]=c),1==l.str.length&&(c["final"]=!0),i.push({node:c,editsRemaining:l.editsRemaining-1,str:s+l.str.slice(2)})))}return n},R.TokenSet.fromString=function(e){for(var t=new R.TokenSet,n=t,i=0,r=e.length;i<r;i++){var o,a=e[i],s=i==r-1;"*"==a?(t.edges[a]=t)["final"]=s:((o=new R.TokenSet)["final"]=s,t.edges[a]=o,t=o)}return n},R.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:"",node:this}];t.length;){var n=t.pop(),i=Object.keys(n.node.edges),r=i.length;n.node["final"]&&(n.prefix.charAt(0),e.push(n.prefix));for(var o=0;o<r;o++){var a=i[o];t.push({prefix:n.prefix.concat(a),node:n.node.edges[a]})}}return e},R.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this["final"]?"1":"0",t=Object.keys(this.edges).sort(),n=t.length,i=0;i<n;i++)var r=t[i],e=e+r+this.edges[r].id;return e},R.TokenSet.prototype.intersect=function(e){for(var t=new R.TokenSet,n=undefined,i=[{qNode:e,output:t,node:this}];i.length;)for(var n=i.pop(),r=Object.keys(n.qNode.edges),o=r.length,a=Object.keys(n.node.edges),s=a.length,u=0;u<o;u++)for(var c=r[u],l=0;l<s;l++){var d,f,p,h,m=a[l];m!=c&&"*"!=c||(d=n.node.edges[m],f=n.qNode.edges[c],p=d["final"]&&f["final"],h=undefined,m in n.output.edges?(h=n.output.edges[m])["final"]=h["final"]||p:((h=new R.TokenSet)["final"]=p,n.output.edges[m]=h),i.push({qNode:f,output:h,node:d}))}return t},R.TokenSet.Builder=function(){this.previousWord="",this.root=new R.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},R.TokenSet.Builder.prototype.insert=function(e){var t=0;if(e<this.previousWord)throw new Error("Out of order word insertion");for(var n=0;n<e.length&&n<this.previousWord.length&&e[n]==this.previousWord[n];n++)t++;this.minimize(t);for(var i=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child,n=t;n<e.length;n++){var r=new R.TokenSet,o=e[n];i.edges[o]=r,this.uncheckedNodes.push({parent:i,char:o,child:r}),i=r}i["final"]=!0,this.previousWord=e},R.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},R.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;e<=t;t--){var n=this.uncheckedNodes[t],i=n.child.toString();i in this.minimizedNodes?n.parent.edges[n["char"]]=this.minimizedNodes[i]:(n.child._str=i,this.minimizedNodes[i]=n.child),this.uncheckedNodes.pop()}},R.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},R.Index.prototype.search=function(t){return this.query(function(e){new R.QueryParser(t,e).parse()})},R.Index.prototype.query=function(e){for(var t=new R.Query(this.fields),n=Object.create(null),i=Object.create(null),r=Object.create(null),o=Object.create(null),a=Object.create(null),s=0;s<this.fields.length;s++)i[this.fields[s]]=new R.Vector;e.call(t,t);for(s=0;s<t.clauses.length;s++){for(var u=t.clauses[s],c=null,l=R.Set.complete,c=u.usePipeline?this.pipeline.runString(u.term,{fields:u.fields}):[u.term],d=0;d<c.length;d++){var f=c[d];u.term=f;var f=R.TokenSet.fromClause(u),p=this.tokenSet.intersect(f).toArray();if(0===p.length&&u.presence===R.Query.presence.REQUIRED){for(var h=0;h<u.fields.length;h++)o[L=u.fields[h]]=R.Set.empty;break}for(var m=0;m<p.length;m++)for(var y=p[m],v=this.invertedIndex[y],g=v._index,h=0;h<u.fields.length;h++){var b=v[L=u.fields[h]],w=Object.keys(b),E=y+"/"+L,x=new R.Set(w);if(u.presence==R.Query.presence.REQUIRED&&(l=l.union(x),o[L]===undefined&&(o[L]=R.Set.complete)),u.presence!=R.Query.presence.PROHIBITED){if(i[L].upsert(g,u.boost,function(e,t){return e+t}),!r[E]){for(var k=0;k<w.length;k++){var S=w[k],_=new R.FieldRef(S,L),T=b[S];(S=n[_])===undefined?n[_]=new R.MatchData(y,L,T):S.add(y,L,T)}r[E]=!0}}else a[L]===undefined&&(a[L]=R.Set.empty),a[L]=a[L].union(x)}}if(u.presence===R.Query.presence.REQUIRED)for(h=0;h<u.fields.length;h++)o[L=u.fields[h]]=o[L].intersect(l)}for(var L,O=R.Set.complete,C=R.Set.empty,s=0;s<this.fields.length;s++)o[L=this.fields[s]]&&(O=O.intersect(o[L])),a[L]&&(C=C.union(a[L]));var A=Object.keys(n),j=[],I=Object.create(null);if(t.isNegated())for(A=Object.keys(this.fieldVectors),s=0;s<A.length;s++){var _=A[s],N=R.FieldRef.fromString(_);n[_]=new R.MatchData}for(s=0;s<A.length;s++){var M,P,F=(N=R.FieldRef.fromString(A[s])).docRef;O.contains(F)&&(C.contains(F)||(M=this.fieldVectors[N],P=i[N.fieldName].similarity(M),(M=I[F])!==undefined?(M.score+=P,M.matchData.combine(n[N])):(P={ref:F,score:P,matchData:n[N]},I[F]=P,j.push(P))))}return j.sort(function(e,t){return t.score-e.score})},R.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map(function(e){return[e,this.invertedIndex[e]]},this),t=Object.keys(this.fieldVectors).map(function(e){return[e,this.fieldVectors[e].toJSON()]},this);return{version:R.version,fields:this.fields,fieldVectors:t,invertedIndex:e,pipeline:this.pipeline.toJSON()}},R.Index.load=function(e){var t={},n={},i=e.fieldVectors,r=Object.create(null),o=e.invertedIndex,a=new R.TokenSet.Builder,s=R.Pipeline.load(e.pipeline);e.version!=R.version&&R.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+R.version+"' does not match serialized index '"+e.version+"'");for(var u=0;u<i.length;u++){var c=(d=i[u])[0],l=d[1];n[c]=new R.Vector(l)}for(u=0;u<o.length;u++){var d,f=(d=o[u])[0],p=d[1];a.insert(f),r[f]=p}return a.finish(),t.fields=e.fields,t.fieldVectors=n,t.invertedIndex=r,t.tokenSet=a.root,t.pipeline=s,new R.Index(t)},R.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=R.tokenizer,this.pipeline=new R.Pipeline,this.searchPipeline=new R.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},R.Builder.prototype.ref=function(e){this._ref=e},R.Builder.prototype.field=function(e,t){if(/\//.test(e))throw new RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=t||{}},R.Builder.prototype.b=function(e){this._b=e<0?0:1<e?1:e},R.Builder.prototype.k1=function(e){this._k1=e},R.Builder.prototype.add=function(e,t){var n=e[this._ref],i=Object.keys(this._fields);this._documents[n]=t||{},this.documentCount+=1;for(var r=0;r<i.length;r++){var o=i[r],a=this._fields[o].extractor,a=a?a(e):e[o],a=this.tokenizer(a,{fields:[o]}),s=this.pipeline.run(a),a=new R.FieldRef(n,o),u=Object.create(null);this.fieldTermFrequencies[a]=u,this.fieldLengths[a]=0,this.fieldLengths[a]+=s.length;for(var c=0;c<s.length;c++){var l=s[c];if(u[l]==undefined&&(u[l]=0),u[l]+=1,this.invertedIndex[l]==undefined){var d=Object.create(null);d._index=this.termIndex,this.termIndex+=1;for(var f=0;f<i.length;f++)d[i[f]]=Object.create(null);this.invertedIndex[l]=d}this.invertedIndex[l][o][n]==undefined&&(this.invertedIndex[l][o][n]=Object.create(null));for(var p=0;p<this.metadataWhitelist.length;p++){var h=this.metadataWhitelist[p],m=l.metadata[h];this.invertedIndex[l][o][n][h]==undefined&&(this.invertedIndex[l][o][n][h]=[]),this.invertedIndex[l][o][n][h].push(m)}}}},R.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),t=e.length,n={},i={},r=0;r<t;r++){var o=R.FieldRef.fromString(e[r]),a=o.fieldName;i[a]||(i[a]=0),i[a]+=1,n[a]||(n[a]=0),n[a]+=this.fieldLengths[o]}for(var s=Object.keys(this._fields),r=0;r<s.length;r++){var u=s[r];n[u]=n[u]/i[u]}this.averageFieldLength=n},R.Builder.prototype.createFieldVectors=function(){for(var e={},t=Object.keys(this.fieldTermFrequencies),n=t.length,i=Object.create(null),r=0;r<n;r++){for(var o=R.FieldRef.fromString(t[r]),a=o.fieldName,s=this.fieldLengths[o],u=new R.Vector,c=this.fieldTermFrequencies[o],l=Object.keys(c),d=l.length,f=this._fields[a].boost||1,p=this._documents[o.docRef].boost||1,h=0;h<d;h++){var m,y=l[h],v=c[y],g=this.invertedIndex[y]._index;i[y]===undefined?(m=R.idf(this.invertedIndex[y],this.documentCount),i[y]=m):m=i[y],v=m*((this._k1+1)*v)/(this._k1*(1-this._b+this._b*(s/this.averageFieldLength[a]))+v),v*=f,v*=p,v=Math.round(1e3*v)/1e3,u.insert(g,v)}e[o]=u}this.fieldVectors=e},R.Builder.prototype.createTokenSet=function(){this.tokenSet=R.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},R.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new R.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},R.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},R.MatchData=function(e,t,n){for(var i=Object.create(null),r=Object.keys(n||{}),o=0;o<r.length;o++){var a=r[o];i[a]=n[a].slice()}this.metadata=Object.create(null),e!==undefined&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=i)},R.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),n=0;n<t.length;n++){var i=t[n],r=Object.keys(e.metadata[i]);this.metadata[i]==undefined&&(this.metadata[i]=Object.create(null));for(var o=0;o<r.length;o++){var a=r[o],s=Object.keys(e.metadata[i][a]);this.metadata[i][a]==undefined&&(this.metadata[i][a]=Object.create(null));for(var u=0;u<s.length;u++){var c=s[u];this.metadata[i][a][c]==undefined?this.metadata[i][a][c]=e.metadata[i][a][c]:this.metadata[i][a][c]=this.metadata[i][a][c].concat(e.metadata[i][a][c])}}}},R.MatchData.prototype.add=function(e,t,n){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=n);if(t in this.metadata[e])for(var i=Object.keys(n),r=0;r<i.length;r++){var o=i[r];o in this.metadata[e][t]?this.metadata[e][t][o]=this.metadata[e][t][o].concat(n[o]):this.metadata[e][t][o]=n[o]}else this.metadata[e][t]=n},R.Query=function(e){this.clauses=[],this.allFields=e},R.Query.wildcard=new String("*"),R.Query.wildcard.NONE=0,R.Query.wildcard.LEADING=1,R.Query.wildcard.TRAILING=2,R.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},R.Query.prototype.clause=function(e){return"fields"in e||(e.fields=this.allFields),"boost"in e||(e.boost=1),"usePipeline"in e||(e.usePipeline=!0),"wildcard"in e||(e.wildcard=R.Query.wildcard.NONE),e.wildcard&R.Query.wildcard.LEADING&&e.term.charAt(0)!=R.Query.wildcard&&(e.term="*"+e.term),e.wildcard&R.Query.wildcard.TRAILING&&e.term.slice(-1)!=R.Query.wildcard&&(e.term=e.term+"*"),"presence"in e||(e.presence=R.Query.presence.OPTIONAL),this.clauses.push(e),this},R.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=R.Query.presence.PROHIBITED)return!1;return!0},R.Query.prototype.term=function(e,t){if(Array.isArray(e))return e.forEach(function(e){this.term(e,R.utils.clone(t))},this),this;var n=t||{};return n.term=e.toString(),this.clause(n),this},R.QueryParseError=function(e,t,n){this.name="QueryParseError",this.message=e,this.start=t,this.end=n},R.QueryParseError.prototype=new Error,R.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},R.QueryLexer.prototype.run=function(){for(var e=R.QueryLexer.lexText;e;)e=e(this)},R.QueryLexer.prototype.sliceString=function(){for(var e,t=[],n=this.start,i=(this.pos,0);i<this.escapeCharPositions.length;i++)e=this.escapeCharPositions[i],t.push(this.str.slice(n,e)),n=e+1;return t.push(this.str.slice(n,this.pos)),this.escapeCharPositions.length=0,t.join("")},R.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},R.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},R.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return R.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},R.QueryLexer.prototype.width=function(){return this.pos-this.start},R.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},R.QueryLexer.prototype.backup=function(){--this.pos},R.QueryLexer.prototype.acceptDigitRun=function(){for(var e,t;47<(t=(e=this.next()).charCodeAt(0))&&t<58;);e!=R.QueryLexer.EOS&&this.backup()},R.QueryLexer.prototype.more=function(){return this.pos<this.length},R.QueryLexer.EOS="EOS",R.QueryLexer.FIELD="FIELD",R.QueryLexer.TERM="TERM",R.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",R.QueryLexer.BOOST="BOOST",R.QueryLexer.PRESENCE="PRESENCE",R.QueryLexer.lexField=function(e){return e.backup(),e.emit(R.QueryLexer.FIELD),e.ignore(),R.QueryLexer.lexText},R.QueryLexer.lexTerm=function(e){if(1<e.width()&&(e.backup(),e.emit(R.QueryLexer.TERM)),e.ignore(),e.more())return R.QueryLexer.lexText},R.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(R.QueryLexer.EDIT_DISTANCE),R.QueryLexer.lexText},R.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(R.QueryLexer.BOOST),R.QueryLexer.lexText},R.QueryLexer.lexEOS=function(e){0<e.width()&&e.emit(R.QueryLexer.TERM)},R.QueryLexer.termSeparator=R.tokenizer.separator,R.QueryLexer.lexText=function(e){for(;;){var t=e.next();if(t==R.QueryLexer.EOS)return R.QueryLexer.lexEOS;if(92!=t.charCodeAt(0)){if(":"==t)return R.QueryLexer.lexField;if("~"==t)return e.backup(),0<e.width()&&e.emit(R.QueryLexer.TERM),R.QueryLexer.lexEditDistance;if("^"==t)return e.backup(),0<e.width()&&e.emit(R.QueryLexer.TERM),R.QueryLexer.lexBoost;if("+"==t&&1===e.width())return e.emit(R.QueryLexer.PRESENCE),R.QueryLexer.lexText;if("-"==t&&1===e.width())return e.emit(R.QueryLexer.PRESENCE),R.QueryLexer.lexText;if(t.match(R.QueryLexer.termSeparator))return R.QueryLexer.lexTerm}else e.escapeCharacter()}},R.QueryParser=function(e,t){this.lexer=new R.QueryLexer(e),this.query=t,this.currentClause={},this.lexemeIdx=0},R.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=R.QueryParser.parseClause;e;)e=e(this);return this.query},R.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},R.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},R.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},R.QueryParser.parseClause=function(e){var t=e.peekLexeme();if(t!=undefined)switch(t.type){case R.QueryLexer.PRESENCE:return R.QueryParser.parsePresence;case R.QueryLexer.FIELD:return R.QueryParser.parseField;case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:var n="expected either a field or a term, found "+t.type;throw 1<=t.str.length&&(n+=" with value '"+t.str+"'"),new R.QueryParseError(n,t.start,t.end)}},R.QueryParser.parsePresence=function(e){var t=e.consumeLexeme();if(t!=undefined){switch(t.str){case"-":e.currentClause.presence=R.Query.presence.PROHIBITED;break;case"+":e.currentClause.presence=R.Query.presence.REQUIRED;break;default:var n="unrecognised presence operator'"+t.str+"'";throw new R.QueryParseError(n,t.start,t.end)}var i=e.peekLexeme();if(i==undefined)throw new R.QueryParseError(n="expecting term or field, found nothing",t.start,t.end);switch(i.type){case R.QueryLexer.FIELD:return R.QueryParser.parseField;case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:n="expecting term or field, found '"+i.type+"'";throw new R.QueryParseError(n,i.start,i.end)}}},R.QueryParser.parseField=function(e){var t=e.consumeLexeme();if(t!=undefined){if(-1==e.query.allFields.indexOf(t.str)){var n=e.query.allFields.map(function(e){return"'"+e+"'"}).join(", "),n="unrecognised field '"+t.str+"', possible fields: "+n;throw new R.QueryParseError(n,t.start,t.end)}e.currentClause.fields=[t.str];e=e.peekLexeme();if(e==undefined)throw new R.QueryParseError(n="expecting term, found nothing",t.start,t.end);if(e.type===R.QueryLexer.TERM)return R.QueryParser.parseTerm;n="expecting term, found '"+e.type+"'";throw new R.QueryParseError(n,e.start,e.end)}},R.QueryParser.parseTerm=function(e){var t=e.consumeLexeme();if(t!=undefined){e.currentClause.term=t.str.toLowerCase(),-1!=t.str.indexOf("*")&&(e.currentClause.usePipeline=!1);var n=e.peekLexeme();if(n!=undefined)switch(n.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:var i="Unexpected lexeme type '"+n.type+"'";throw new R.QueryParseError(i,n.start,n.end)}else e.nextClause()}},R.QueryParser.parseEditDistance=function(e){var t=e.consumeLexeme();if(t!=undefined){var n=parseInt(t.str,10);if(isNaN(n))throw new R.QueryParseError(r="edit distance must be numeric",t.start,t.end);e.currentClause.editDistance=n;var i=e.peekLexeme();if(i!=undefined)switch(i.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:var r="Unexpected lexeme type '"+i.type+"'";throw new R.QueryParseError(r,i.start,i.end)}else e.nextClause()}},R.QueryParser.parseBoost=function(e){var t=e.consumeLexeme();if(t!=undefined){var n=parseInt(t.str,10);if(isNaN(n))throw new R.QueryParseError(r="boost must be numeric",t.start,t.end);e.currentClause.boost=n;var i=e.peekLexeme();if(i!=undefined)switch(i.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:var r="Unexpected lexeme type '"+i.type+"'";throw new R.QueryParseError(r,i.start,i.end)}else e.nextClause()}},i=function(){return R},"function"==typeof undefined&&undefined.amd?undefined(i):r.exports=R}()});function q(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(e)}function H(e){return e=(e=(e=(e=e.replace(/[^\s=/?&]+(?:@|%40)[^\s=/?&]+/g,"[REDACTED EMAIL]")).replace(/\b[A-PR-UWYZ][A-HJ-Z]?[0-9][0-9A-HJKMNPR-Y]?(?:[\s+]|%20)*[0-9](?!refund)[ABD-HJLNPQ-Z]{2,3}\b/gi,"[REDACTED POSTCODE]")).replace(/^\s*[a-zA-Z]{2}(?:\s*\d\s*){6}[a-zA-Z]?\s*$/g,"[REDACTED NI NUMBER]")).replace(/[0-9]+/g,"[REDACTED NUMBER]")}var z=null,V=null,W=null,U="",G=function(){},K=[],J=null;function Y(e){this.$module=e}Y.prototype.fetchSearchIndex=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.timeout=1e4,W="Loading search index",n.onreadystatechange=function(){var e;4===n.readyState&&(200===n.status?(e=n.responseText,e=JSON.parse(e),W="No results found",z=B.Index.load(e.index),V=e.store,t(e)):W="Failed to load the search index")},n.send()},Y.prototype.renderResults=function(){if(!z||!V)return G(K);var e=z.query(function(e){e.term(B.tokenizer(U),{wildcard:B.Query.wildcard.TRAILING})});K=e.map(function(e){return V[e.ref]}),G(K)},Y.prototype.handleSearchQuery=function(e,t){U=e,G=t,clearTimeout(J),J=setTimeout(function(){var e,t,n;e=U,t=K,window.DO_NOT_TRACK_ENABLED||(n=H(e),e=0<t.length,t=t.map(function(e,t){return{name:e.title,category:e.section,list:n,position:t+1}}),q({event:"site-search",eventDetails:{category:"site search",action:e?"results":"no result",label:n},ecommerce:{impressions:t}}))},void 0!==(t=window.__SITE_SEARCH_TRACKING_TIMEOUT)?t:2e3),this.renderResults()},Y.prototype.handleOnConfirm=function(e){var t,n,i,r,o=e.path;o&&(t=U,n=K,i=e,window.DO_NOT_TRACK_ENABLED||(r=H(t),n=n.map(function(e,t){return{name:e.title,category:e.section,list:r,position:t+1}}).filter(function(e){return e.name===i.title}),q({event:"site-search",eventDetails:{category:"site search",action:"click",label:r+" | "+i.title},ecommerce:{click:{actionField:{list:r},products:n}}})),window.location.href="/"+o)},Y.prototype.inputValueTemplate=function(e){if(e)return e.title},Y.prototype.resultTemplate=function(e){if(e){var t,n,i=document.createElement("span"),r=e.title;i.textContent=r,e.aliases&&(t=e.aliases.split(",").map(function(e){return e.trim()}),n=[],0<(n=-1===r.toLowerCase().indexOf(U)?t.filter(function(e){return-1!==e.toLowerCase().indexOf(U.toLowerCase())}):n).length&&((o=document.createElement("span")).className="app-site-search__aliases",o.textContent=n.join(", "),i.appendChild(o)));var o=document.createElement("span");return o.className="app-site-search--section",o.innerHTML=e.section,i.appendChild(o),i.innerHTML}},Y.prototype.init=function(){var e=this.$module;e&&"querySelector"in document&&"addEventListener"in window&&!(!Array.prototype||!Array.prototype.forEach)&&(Q({element:e,id:"app-site-search__input",cssNamespace:"app-site-search",displayMenu:"overlay",placeholder:"Search",confirmOnBlur:!1,autoselect:!0,source:this.handleSearchQuery.bind(this),onConfirm:this.handleOnConfirm,templates:{inputValue:this.inputValueTemplate,suggestion:this.resultTemplate},tNoResults:function(){return W}}),e.querySelector(".app-site-search__input").addEventListener("blur",function(e){clearTimeout(J)}),e=e.getAttribute("data-search-index"),this.fetchSearchIndex(e,function(){this.renderResults()}.bind(this)))};var X={init:function(){X.expandMacroOptions()},expandMacroOptions:function(){var e,t,n,i,r,o,a,s=window.location.hash;s.match("^#options-")&&(a=s.split("#options-")[1],(a=(e=-1<s.indexOf("--"))?a.split("--")[0]:a)&&(n=(t=document.querySelector('a[href="#'+a+'-nunjucks"]'))?t.parentNode:null,i=document.getElementById("options-"+a+"-details"),n&&i&&(r=i.parentNode,o=i.querySelector(".govuk-details__summary"),a=i.querySelector(".govuk-details__text"),o&&a&&(t.setAttribute("aria-expanded",!0),n.className+=" app-tabs__item--current",r.classList.remove("app-tabs__container--hidden"),r.setAttribute("aria-hidden",!1),i.setAttribute("open","open"),o.setAttribute("aria-expanded",!0),a.setAttribute("aria-hidden",!1),a.style.display="",window.setTimeout(function(){t.focus(),e&&document.querySelector(s).scrollIntoView()},0)))))}},Z=v.nodeListForEach;function ee(e){this.$module=e}ee.prototype.init=function(){this.$cookiePage=this.$module,this.$cookiePage&&(this.$cookieForm=this.$cookiePage.querySelector(".js-cookies-page-form"),this.$cookieFormFieldsets=this.$cookieForm.querySelectorAll(".js-cookies-page-form-fieldset"),this.$successNotification=this.$cookiePage.querySelector(".js-cookies-page-success"),Z(this.$cookieFormFieldsets,function(e){this.showUserPreference(e,c()),e.removeAttribute("hidden")}.bind(this)),this.$cookieForm.querySelector(".js-cookies-form-button").removeAttribute("hidden"),this.$cookieForm.addEventListener("submit",this.savePreferences.bind(this)))},ee.prototype.savePreferences=function(e){e.preventDefault();var n={};Z(this.$cookieFormFieldsets,function(e){var t=this.getCookieType(e),e=e.querySelector("input[name="+t+"]:checked").value;n[t]="yes"===e}.bind(this)),t(n),this.showSuccessNotification()},ee.prototype.showUserPreference=function(e,t){var n=this.getCookieType(e),i=!1;n&&t&&t[n]!==undefined&&(i=t[n]),e.querySelector("input[name="+n+"][value="+(i?"yes":"no")+"]").checked=!0},ee.prototype.showSuccessNotification=function(){this.$successNotification.removeAttribute("hidden"),this.$successNotification.getAttribute("tabindex")||this.$successNotification.setAttribute("tabindex","-1"),this.$successNotification.focus(),window.scrollTo(0,0)},ee.prototype.getCookieType=function(e){return e.id};var te=v.nodeListForEach;new b(document.querySelector('[data-module="govuk-cookie-banner"]')).init();v=c();v&&l(v)&&v.analytics&&n(),te(document.querySelectorAll('[data-module="app-example-frame"]'),function(e){new x(e).init()}),te(document.querySelectorAll('[data-module="app-tabs"]'),function(e){new j(e).init()}),X.init(),te(document.querySelectorAll('[data-module="app-copy"]'),function(e){new N(e).init()}),(new D).init(),new Y(document.querySelector('[data-module="app-search"]')).init(),new w(document.querySelector('[data-module="app-back-to-top"]')).init(),new ee(document.querySelector('[data-module="app-cookies-page"]')).init()}();
//# sourceMappingURL=main.min.js.map