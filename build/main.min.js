(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports):typeof define==="function"&&define.amd?define("GOVUKFrontend",["exports"],e):e(t.GOVUKFrontend={})})(this,function(t){"use strict";function f(t,e){if(window.NodeList.prototype.forEach){return t.forEach(e)}for(var n=0;n<t.length;n++){e.call(window,t[n],n,t)}}function i(){var n=(new Date).getTime();if(typeof window.performance!=="undefined"&&typeof window.performance.now==="function"){n+=window.performance.now()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+Math.random()*16)%16|0;n=Math.floor(n/16);return(t==="x"?e:e&3|8).toString(16)})}(function(t){var e="defineProperty"in Object&&function(){try{var t={};Object.defineProperty(t,"test",{value:42});return true}catch(t){return false}}();if(e)return;(function(l){var c=Object.prototype.hasOwnProperty("__defineGetter__");var u="Getters & setters cannot be defined on this javascript engine";var d="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function t(e,n,o){if(l&&(e===window||e===document||e===Element.prototype||e instanceof Element)){return l(e,n,o)}if(e===null||!(e instanceof Object||typeof e==="object")){throw new TypeError("Object.defineProperty called on non-object")}if(!(o instanceof Object)){throw new TypeError("Property description must be an object")}var i=String(n);var r="value"in o||"writable"in o;var a="get"in o&&typeof o.get;var s="set"in o&&typeof o.set;if(a){if(a!=="function"){throw new TypeError("Getter must be a function")}if(!c){throw new TypeError(u)}if(r){throw new TypeError(d)}Object.__defineGetter__.call(e,i,o.get)}else{e[i]=o.value}if(s){if(s!=="function"){throw new TypeError("Setter must be a function")}if(!c){throw new TypeError(u)}if(r){throw new TypeError(d)}Object.__defineSetter__.call(e,i,o.set)}if("value"in o){e[i]=o.value}return e}})(Object.defineProperty)}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(t){var e="bind"in Function.prototype;if(e)return;Object.defineProperty(Function.prototype,"bind",{value:function t(e){var n=Array;var o=Object;var i=o.prototype;var r=n.prototype;var a=function t(){};var s=i.toString;var l=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var c;var u=Function.prototype.toString,d=function t(e){try{u.call(e);return true}catch(t){return false}},f="[object Function]",h="[object GeneratorFunction]";c=function t(e){if(typeof e!=="function"){return false}if(l){return d(e)}var n=s.call(e);return n===f||n===h};var p=r.slice;var v=r.concat;var b=r.push;var m=Math.max;var y=this;if(!c(y)){throw new TypeError("Function.prototype.bind called on incompatible "+y)}var g=p.call(arguments,1);var w;var E=function(){if(this instanceof w){var t=y.apply(this,v.call(g,p.call(arguments)));if(o(t)===t){return t}return this}else{return y.apply(e,v.call(g,p.call(arguments)))}};var A=m(0,y.length-g.length);var k=[];for(var L=0;L<A;L++){b.call(k,"$"+L)}w=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this, arguments); }")(E);if(y.prototype){a.prototype=y.prototype;w.prototype=new a;a.prototype=null}return w}})}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(f){var t="DOMTokenList"in this&&function(t){return"classList"in t?!t.classList.toggle("x",false)&&!t.className:true}(document.createElement("x"));if(t)return;(function(t){var e="DOMTokenList"in t&&t.DOMTokenList;if(!e||!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg")&&!(document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)){t.DOMTokenList=function(){var i=true;var n=function(t,e,n,o){if(Object.defineProperty)Object.defineProperty(t,e,{configurable:false===i?true:!!o,get:n});else t.__defineGetter__(e,n)};try{n({},"support")}catch(t){i=false}var t=function(i,r){var a=this;var s=[];var l={};var c=0;var t=0;var e=function(t){n(a,t,function(){d();return s[t]},false)};var u=function(){if(c>=t)for(;t<c;++t){e(t)}};var d=function(){var t;var e;var n=arguments;var o=/\s+/;if(n.length)for(e=0;e<n.length;++e)if(o.test(n[e])){t=new SyntaxError('String "'+n[e]+'" '+"contains"+" an invalid character");t.code=5;t.name="InvalidCharacterError";throw t}if(typeof i[r]==="object"){s=(""+i[r].baseVal).replace(/^\s+|\s+$/g,"").split(o)}else{s=(""+i[r]).replace(/^\s+|\s+$/g,"").split(o)}if(""===s[0])s=[];l={};for(e=0;e<s.length;++e)l[s[e]]=true;c=s.length;u()};d();n(a,"length",function(){d();return c});a.toLocaleString=a.toString=function(){d();return s.join(" ")};a.item=function(t){d();return s[t]};a.contains=function(t){d();return!!l[t]};a.add=function(){d.apply(a,t=arguments);for(var t,e,n=0,o=t.length;n<o;++n){e=t[n];if(!l[e]){s.push(e);l[e]=true}}if(c!==s.length){c=s.length>>>0;if(typeof i[r]==="object"){i[r].baseVal=s.join(" ")}else{i[r]=s.join(" ")}u()}};a.remove=function(){d.apply(a,t=arguments);for(var t,e={},n=0,o=[];n<t.length;++n){e[t[n]]=true;delete l[t[n]]}for(n=0;n<s.length;++n)if(!e[s[n]])o.push(s[n]);s=o;c=o.length>>>0;if(typeof i[r]==="object"){i[r].baseVal=s.join(" ")}else{i[r]=s.join(" ")}u()};a.toggle=function(t,e){d.apply(a,[t]);if(f!==e){if(e){a.add(t);return true}else{a.remove(t);return false}}if(l[t]){a.remove(t);return false}a.add(t);return true};return a};return t}()}(function(){var t=document.createElement("span");if(!("classList"in t))return;t.classList.toggle("x",false);if(!t.classList.contains("x"))return;t.classList.constructor.prototype.toggle=function t(e){var n=arguments[1];if(n===f){var o=!this.contains(e);this[o?"add":"remove"](e);return o}n=!!n;this[n?"add":"remove"](e);return n}})();(function(){var t=document.createElement("span");if(!("classList"in t))return;t.classList.add("a","b");if(t.classList.contains("b"))return;var o=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){var t=arguments;var e=arguments.length;for(var n=0;n<e;n++){o.call(this,t[n])}}})();(function(){var t=document.createElement("span");if(!("classList"in t))return;t.classList.add("a");t.classList.add("b");t.classList.remove("a","b");if(!t.classList.contains("b"))return;var o=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){var t=arguments;var e=arguments.length;for(var n=0;n<e;n++){o.call(this,t[n])}}})()})(this)}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(t){var e="Document"in this;if(e)return;if(typeof WorkerGlobalScope==="undefined"&&typeof importScripts!=="function"){if(this.HTMLDocument){this.Document=this.HTMLDocument}else{this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")();this.Document.prototype=document}}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(t){var e="Element"in this&&"HTMLElement"in this;if(e)return;(function(){if(window.Element&&!window.HTMLElement){window.HTMLElement=window.Element;return}window.Element=window.HTMLElement=new Function("return function Element() {}")();var t=document.appendChild(document.createElement("body"));var e=t.appendChild(document.createElement("iframe"));var n=e.contentWindow.document;var s=Element.prototype=n.appendChild(n.createElement("*"));var l={};var c=function(t,e){var n=t.childNodes||[],o=-1,i,r,a;if(t.nodeType===1&&t.constructor!==Element){t.constructor=Element;for(i in l){r=l[i];t[i]=r}}while(a=e&&n[++o]){c(a,e)}return t};var u=document.getElementsByTagName("*");var o=document.createElement;var i;var r=100;s.attachEvent("onpropertychange",function(t){var e=t.propertyName,n=!l.hasOwnProperty(e),o=s[e],i=l[e],r=-1,a;while(a=u[++r]){if(a.nodeType===1){if(n||a[e]===i){a[e]=o}}}l[e]=o});s.constructor=Element;if(!s.hasAttribute){s.hasAttribute=function t(e){return this.getAttribute(e)!==null}}function a(){if(!r--)clearTimeout(i);if(document.body&&!document.body.prototype&&/(complete|interactive)/.test(document.readyState)){c(document,true);if(i&&document.body.prototype)clearTimeout(i);return!!document.body.prototype}return false}if(!a()){document.onreadystatechange=a;i=setInterval(a,25)}document.createElement=function t(e){var n=o(String(e).toLowerCase());return c(n)};document.removeChild(t)})()}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(t){var e="document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&function(){var t=document.createElement("span");t.classList.add("a","b");return t.classList.contains("b")}();if(e)return;(function(t){var u=true;var d=function(t,e,n,o){if(Object.defineProperty)Object.defineProperty(t,e,{configurable:false===u?true:!!o,get:n});else t.__defineGetter__(e,n)};try{d({},"support")}catch(t){u=false}var f=function(t,l,c){d(t.prototype,l,function(){var t;var e=this,n="__defineGetter__"+"DEFINE_PROPERTY"+l;if(e[n])return t;e[n]=true;if(false===u){var o;var i=f.mirror||document.createElement("div");var r=i.childNodes;var a=r.length;for(var s=0;s<a;++s)if(r[s]._R===e){o=r[s];break}o||(o=i.appendChild(document.createElement("div")));t=DOMTokenList.call(o,e,c)}else t=new DOMTokenList(e,c);d(e,l,function(){return t});delete e[n];return t},true)};f(t.Element,"classList","className");f(t.HTMLElement,"classList","className");f(t.HTMLLinkElement,"relList","rel");f(t.HTMLAnchorElement,"relList","rel");f(t.HTMLAreaElement,"relList","rel")})(this)}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});function h(t){this.$module=t;this.moduleId=t.getAttribute("id");this.$sections=t.querySelectorAll(".govuk-accordion__section");this.$openAllButton="";this.browserSupportsSessionStorage=e.checkForSessionStorage();this.controlsClass="govuk-accordion__controls";this.openAllClass="govuk-accordion__open-all";this.iconClass="govuk-accordion__icon";this.sectionHeaderClass="govuk-accordion__section-header";this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused";this.sectionHeadingClass="govuk-accordion__section-heading";this.sectionSummaryClass="govuk-accordion__section-summary";this.sectionButtonClass="govuk-accordion__section-button";this.sectionExpandedClass="govuk-accordion__section--expanded"}h.prototype.init=function(){if(!this.$module){return}this.initControls();this.initSectionHeaders();var t=this.checkIfAllSectionsOpen();this.updateOpenAllButton(t)};h.prototype.initControls=function(){this.$openAllButton=document.createElement("button");this.$openAllButton.setAttribute("type","button");this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>';this.$openAllButton.setAttribute("class",this.openAllClass);this.$openAllButton.setAttribute("aria-expanded","false");this.$openAllButton.setAttribute("type","button");var t=document.createElement("div");t.setAttribute("class",this.controlsClass);t.appendChild(this.$openAllButton);this.$module.insertBefore(t,this.$module.firstChild);this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))};h.prototype.initSectionHeaders=function(){f(this.$sections,function(t,e){var n=t.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(n,e);this.setExpanded(this.isExpanded(t),t);n.addEventListener("click",this.onSectionToggle.bind(this,t));this.setInitialState(t)}.bind(this))};h.prototype.initHeaderAttributes=function(e,t){var n=this;var o=e.querySelector("."+this.sectionButtonClass);var i=e.querySelector("."+this.sectionHeadingClass);var r=e.querySelector("."+this.sectionSummaryClass);var a=document.createElement("button");a.setAttribute("type","button");a.setAttribute("id",this.moduleId+"-heading-"+(t+1));a.setAttribute("aria-controls",this.moduleId+"-content-"+(t+1));for(var s=0;s<o.attributes.length;s++){var l=o.attributes.item(s);a.setAttribute(l.nodeName,l.nodeValue)}a.addEventListener("focusin",function(t){if(!e.classList.contains(n.sectionHeaderFocusedClass)){e.className+=" "+n.sectionHeaderFocusedClass}});a.addEventListener("blur",function(t){e.classList.remove(n.sectionHeaderFocusedClass)});if(typeof r!=="undefined"&&r!==null){a.setAttribute("aria-describedby",this.moduleId+"-summary-"+(t+1))}a.innerHTML=o.innerHTML;i.removeChild(o);i.appendChild(a);var c=document.createElement("span");c.className=this.iconClass;c.setAttribute("aria-hidden","true");a.appendChild(c)};h.prototype.onSectionToggle=function(t){var e=this.isExpanded(t);this.setExpanded(!e,t);this.storeState(t)};h.prototype.onOpenOrCloseAllToggle=function(){var e=this;var t=this.$sections;var n=!this.checkIfAllSectionsOpen();f(t,function(t){e.setExpanded(n,t);e.storeState(t)});e.updateOpenAllButton(n)};h.prototype.setExpanded=function(t,e){var n=e.querySelector("."+this.sectionButtonClass);n.setAttribute("aria-expanded",t);if(t){e.classList.add(this.sectionExpandedClass)}else{e.classList.remove(this.sectionExpandedClass)}var o=this.checkIfAllSectionsOpen();this.updateOpenAllButton(o)};h.prototype.isExpanded=function(t){return t.classList.contains(this.sectionExpandedClass)};h.prototype.checkIfAllSectionsOpen=function(){var t=this.$sections.length;var e=this.$module.querySelectorAll("."+this.sectionExpandedClass).length;var n=t===e;return n};h.prototype.updateOpenAllButton=function(t){var e=t?"Close all":"Open all";e+='<span class="govuk-visually-hidden"> sections</span>';this.$openAllButton.setAttribute("aria-expanded",t);this.$openAllButton.innerHTML=e};var e={checkForSessionStorage:function(){var t="this is the test string";var e;try{window.sessionStorage.setItem(t,t);e=window.sessionStorage.getItem(t)===t.toString();window.sessionStorage.removeItem(t);return e}catch(t){if(typeof console==="undefined"||typeof console.log==="undefined"){console.log("Notice: sessionStorage not available.")}}}};h.prototype.storeState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls");var o=e.getAttribute("aria-expanded");if(typeof n==="undefined"&&(typeof console==="undefined"||typeof console.log==="undefined")){console.error(new Error("No aria controls present in accordion section heading."))}if(typeof o==="undefined"&&(typeof console==="undefined"||typeof console.log==="undefined")){console.error(new Error("No aria expanded present in accordion section heading."))}if(n&&o){window.sessionStorage.setItem(n,o)}}}};h.prototype.setInitialState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls");var o=n?window.sessionStorage.getItem(n):null;if(o!==null){this.setExpanded(o==="true",t)}}}};(function(t){var e="Window"in this;if(e)return;if(typeof WorkerGlobalScope==="undefined"&&typeof importScripts!=="function"){(function(t){if(t.constructor){t.Window=t.constructor}else{(t.Window=t.constructor=new Function("return function Window() {}")()).prototype=this}})(this)}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(a){var t=function(t){if(!("Event"in t))return false;if(typeof t.Event==="function")return true;try{new Event("click");return true}catch(t){return false}}(this);if(t)return;(function(){var o={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if(typeof document==="undefined"||typeof window==="undefined")return;function s(t,e){var n=-1,o=t.length;while(++n<o){if(n in t&&t[n]===e){return n}}return-1}var t=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function t(e,n){if(!e){throw new Error("Not enough arguments")}var o;if("createEvent"in document){o=document.createEvent("Event");var i=n&&n.bubbles!==a?n.bubbles:false;var r=n&&n.cancelable!==a?n.cancelable:false;o.initEvent(e,i,r);return o}o=document.createEventObject();o.type=e;o.bubbles=n&&n.bubbles!==a?n.bubbles:false;o.cancelable=n&&n.cancelable!==a?n.cancelable:false;return o};if(t){Object.defineProperty(window.Event,"prototype",{configurable:false,enumerable:false,writable:true,value:t})}if(!("createEvent"in document)){window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function t(){var a=this,e=arguments[0],n=arguments[1];if(a===window&&e in o){throw new Error("In IE8 the event: "+e+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.")}if(!a._events){a._events={}}if(!a._events[e]){a._events[e]=function(e){var t=a._events[e.type].list,n=t.slice(),o=-1,i=n.length,r;e.preventDefault=function t(){if(e.cancelable!==false){e.returnValue=false}};e.stopPropagation=function t(){e.cancelBubble=true};e.stopImmediatePropagation=function t(){e.cancelBubble=true;e.cancelImmediate=true};e.currentTarget=a;e.relatedTarget=e.fromElement||null;e.target=e.target||e.srcElement||a;e.timeStamp=(new Date).getTime();if(e.clientX){e.pageX=e.clientX+document.documentElement.scrollLeft;e.pageY=e.clientY+document.documentElement.scrollTop}while(++o<i&&!e.cancelImmediate){if(o in n){r=n[o];if(s(t,r)!==-1&&typeof r==="function"){r.call(a,e)}}}};a._events[e].list=[];if(a.attachEvent){a.attachEvent("on"+e,a._events[e])}}a._events[e].list.push(n)};window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function t(){var e=this,n=arguments[0],o=arguments[1],i;if(e._events&&e._events[n]&&e._events[n].list){i=s(e._events[n].list,o);if(i!==-1){e._events[n].list.splice(i,1);if(!e._events[n].list.length){if(e.detachEvent){e.detachEvent("on"+n,e._events[n])}delete e._events[n]}}}};window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function t(e){if(!arguments.length){throw new Error("Not enough arguments")}if(!e||typeof e.type!=="string"){throw new Error("DOM Events Exception 0")}var n=this,o=e.type;try{if(!e.bubbles){e.cancelBubble=true;var i=function(t){t.cancelBubble=true;(n||window).detachEvent("on"+o,i)};this.attachEvent("on"+o,i)}this.fireEvent("on"+o,e)}catch(t){e.target=n;do{e.currentTarget=n;if("_events"in n&&typeof n._events[o]==="function"){n._events[o].call(n,e)}if(typeof n["on"+o]==="function"){n["on"+o].call(n,e)}n=n.nodeType===9?n.parentWindow:n.parentNode}while(n&&!e.cancelBubble)}return true};document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:true}))}})}})()}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});var n=32;var o=1;function p(t){this.$module=t;this.debounceFormSubmitTimer=null}p.prototype.handleKeyDown=function(t){var e=t.target;if(e.getAttribute("role")==="button"&&t.keyCode===n){t.preventDefault();e.click()}};p.prototype.debounce=function(t){var e=t.target;if(e.getAttribute("data-prevent-double-click")!=="true"){return}if(this.debounceFormSubmitTimer){t.preventDefault();return false}this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),o*1e3)};p.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown);this.$module.addEventListener("click",this.debounce)};var r=13;var a=32;function v(t){this.$module=t}v.prototype.init=function(){if(!this.$module){return}var t=typeof this.$module.open==="boolean";if(t){return}this.polyfillDetails()};v.prototype.polyfillDetails=function(){var t=this.$module;var e=this.$summary=t.getElementsByTagName("summary").item(0);var n=this.$content=t.getElementsByTagName("div").item(0);if(!e||!n){return}if(!n.id){n.id="details-content-"+i()}t.setAttribute("role","group");e.setAttribute("role","button");e.setAttribute("aria-controls",n.id);e.tabIndex=0;var o=t.getAttribute("open")!==null;if(o===true){e.setAttribute("aria-expanded","true");n.setAttribute("aria-hidden","false")}else{e.setAttribute("aria-expanded","false");n.setAttribute("aria-hidden","true");n.style.display="none"}this.polyfillHandleInputs(e,this.polyfillSetAttributes.bind(this))};v.prototype.polyfillSetAttributes=function(){var t=this.$module;var e=this.$summary;var n=this.$content;var o=e.getAttribute("aria-expanded")==="true";var i=n.getAttribute("aria-hidden")==="true";e.setAttribute("aria-expanded",o?"false":"true");n.setAttribute("aria-hidden",i?"false":"true");n.style.display=o?"none":"";var r=t.getAttribute("open")!==null;if(!r){t.setAttribute("open","open")}else{t.removeAttribute("open")}return true};v.prototype.polyfillHandleInputs=function(t,n){t.addEventListener("keypress",function(t){var e=t.target;if(t.keyCode===r||t.keyCode===a){if(e.nodeName.toLowerCase()==="summary"){t.preventDefault();if(e.click){e.click()}else{n(t)}}}});t.addEventListener("keyup",function(t){var e=t.target;if(t.keyCode===a){if(e.nodeName.toLowerCase()==="summary"){t.preventDefault()}}});t.addEventListener("click",n)};function b(t){this.$module=t;this.$textarea=t.querySelector(".govuk-js-character-count");if(this.$textarea){this.$countMessage=t.querySelector('[id="'+this.$textarea.id+'-info"]')}}b.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"};b.prototype.init=function(){var t=this.$module;var e=this.$textarea;var n=this.$countMessage;if(!e||!n){return}e.insertAdjacentElement("afterend",n);this.options=this.getDataset(t);var o=this.defaults.characterCountAttribute;if(this.options.maxwords){o=this.defaults.wordCountAttribute}this.maxLength=t.getAttribute(o);if(!this.maxLength){return}t.removeAttribute("maxlength");if("onpageshow"in window){window.addEventListener("pageshow",this.sync.bind(this))}else{window.addEventListener("DOMContentLoaded",this.sync.bind(this))}this.sync()};b.prototype.sync=function(){this.bindChangeEvents();this.updateCountMessage()};b.prototype.getDataset=function(t){var e={};var n=t.attributes;if(n){for(var o=0;o<n.length;o++){var i=n[o];var r=i.name.match(/^data-(.+)/);if(r){e[r[1]]=i.value}}}return e};b.prototype.count=function(t){var e;if(this.options.maxwords){var n=t.match(/\S+/g)||[];e=n.length}else{e=t.length}return e};b.prototype.bindChangeEvents=function(){var t=this.$textarea;t.addEventListener("keyup",this.checkIfValueChanged.bind(this));t.addEventListener("focus",this.handleFocus.bind(this));t.addEventListener("blur",this.handleBlur.bind(this))};b.prototype.checkIfValueChanged=function(){if(!this.$textarea.oldValue)this.$textarea.oldValue="";if(this.$textarea.value!==this.$textarea.oldValue){this.$textarea.oldValue=this.$textarea.value;this.updateCountMessage()}};b.prototype.updateCountMessage=function(){var t=this.$textarea;var e=this.options;var n=this.$countMessage;var o=this.count(t.value);var i=this.maxLength;var r=i-o;var a=e.threshold?e.threshold:0;var s=i*a/100;if(s>o){n.classList.add("govuk-character-count__message--disabled");n.setAttribute("aria-hidden",true)}else{n.classList.remove("govuk-character-count__message--disabled");n.removeAttribute("aria-hidden")}if(r<0){t.classList.add("govuk-textarea--error");n.classList.remove("govuk-hint");n.classList.add("govuk-error-message")}else{t.classList.remove("govuk-textarea--error");n.classList.remove("govuk-error-message");n.classList.add("govuk-hint")}var l="remaining";var c="character";var u=r;if(e.maxwords){c="word"}c=c+(r===-1||r===1?"":"s");l=r<0?"too many":"remaining";u=Math.abs(r);n.innerHTML="You have "+u+" "+c+" "+l};b.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)};b.prototype.handleBlur=function(){clearInterval(this.valueChecker)};function m(t){this.$module=t;this.$inputs=t.querySelectorAll('input[type="checkbox"]')}m.prototype.init=function(){var n=this.$module;var t=this.$inputs;f(t,function(t){var e=t.getAttribute("data-aria-controls");if(!e||!n.querySelector("#"+e)){return}t.setAttribute("aria-controls",e);t.removeAttribute("data-aria-controls")});if("onpageshow"in window){window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this))}else{window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this))}this.syncAllConditionalReveals();n.addEventListener("click",this.handleClick.bind(this))};m.prototype.syncAllConditionalReveals=function(){f(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))};m.prototype.syncConditionalRevealWithInputState=function(t){var e=this.$module.querySelector("#"+t.getAttribute("aria-controls"));if(e&&e.classList.contains("govuk-checkboxes__conditional")){var n=t.checked;t.setAttribute("aria-expanded",n);e.classList.toggle("govuk-checkboxes__conditional--hidden",!n)}};m.prototype.unCheckAllInputsExcept=function(n){var t=document.querySelectorAll('input[type="checkbox"][name="'+n.name+'"]');f(t,function(t){var e=n.form===t.form;if(e&&t!==n){t.checked=false}});this.syncAllConditionalReveals()};m.prototype.unCheckExclusiveInputs=function(n){var t=document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+n.name+'"]');f(t,function(t){var e=n.form===t.form;if(e){t.checked=false}});this.syncAllConditionalReveals()};m.prototype.handleClick=function(t){var e=t.target;if(e.type!=="checkbox"){return}var n=e.getAttribute("aria-controls");if(n){this.syncConditionalRevealWithInputState(e)}if(!e.checked){return}var o=e.getAttribute("data-behaviour")==="exclusive";if(o){this.unCheckAllInputsExcept(e)}else{this.unCheckExclusiveInputs(e)}};(function(t){var e="document"in this&&"matches"in document.documentElement;if(e)return;Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function t(e){var n=this;var o=(n.document||n.ownerDocument).querySelectorAll(e);var i=0;while(o[i]&&o[i]!==n){++i}return!!o[i]}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(t){var e="document"in this&&"closest"in document.documentElement;if(e)return;Element.prototype.closest=function t(e){var n=this;while(n){if(n.matches(e))return n;else n="SVGElement"in window&&n instanceof SVGElement?n.parentNode:n.parentElement}return null}}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});function y(t){this.$module=t}y.prototype.init=function(){var t=this.$module;if(!t){return}t.focus();t.addEventListener("click",this.handleClick.bind(this))};y.prototype.handleClick=function(t){var e=t.target;if(this.focusTarget(e)){t.preventDefault()}};y.prototype.focusTarget=function(t){if(t.tagName!=="A"||t.href===false){return false}var e=this.getFragmentFromUrl(t.href);var n=document.getElementById(e);if(!n){return false}var o=this.getAssociatedLegendOrLabel(n);if(!o){return false}o.scrollIntoView();n.focus({preventScroll:true});return true};y.prototype.getFragmentFromUrl=function(t){if(t.indexOf("#")===-1){return false}return t.split("#").pop()};y.prototype.getAssociatedLegendOrLabel=function(t){var e=t.closest("fieldset");if(e){var n=e.getElementsByTagName("legend");if(n.length){var o=n[0];if(t.type==="checkbox"||t.type==="radio"){return o}var i=o.getBoundingClientRect().top;var r=t.getBoundingClientRect();if(r.height&&window.innerHeight){var a=r.top+r.height;if(a-i<window.innerHeight/2){return o}}}}return document.querySelector("label[for='"+t.getAttribute("id")+"']")||t.closest("label")};function g(t){this.$module=t}g.prototype.init=function(){var t=this.$module;if(!t){return}this.setFocus()};g.prototype.setFocus=function(){var t=this.$module;if(t.getAttribute("data-disable-auto-focus")==="true"){return}if(t.getAttribute("role")!=="alert"){return}if(!t.getAttribute("tabindex")){t.setAttribute("tabindex","-1");t.addEventListener("blur",function(){t.removeAttribute("tabindex")})}t.focus()};function w(t){this.$module=t;this.$menuButton=t&&t.querySelector(".govuk-js-header-toggle");this.$menu=this.$menuButton&&t.querySelector("#"+this.$menuButton.getAttribute("aria-controls"))}w.prototype.init=function(){if(!this.$module||!this.$menuButton||!this.$menu){return}this.syncState(this.$menu.classList.contains("govuk-header__navigation--open"));this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this))};w.prototype.syncState=function(t){this.$menuButton.classList.toggle("govuk-header__menu-button--open",t);this.$menuButton.setAttribute("aria-expanded",t)};w.prototype.handleMenuButtonClick=function(){var t=this.$menu.classList.toggle("govuk-header__navigation--open");this.syncState(t)};function E(t){this.$module=t;this.$inputs=t.querySelectorAll('input[type="radio"]')}E.prototype.init=function(){var n=this.$module;var t=this.$inputs;f(t,function(t){var e=t.getAttribute("data-aria-controls");if(!e||!n.querySelector("#"+e)){return}t.setAttribute("aria-controls",e);t.removeAttribute("data-aria-controls")});if("onpageshow"in window){window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this))}else{window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this))}this.syncAllConditionalReveals();n.addEventListener("click",this.handleClick.bind(this))};E.prototype.syncAllConditionalReveals=function(){f(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))};E.prototype.syncConditionalRevealWithInputState=function(t){var e=document.querySelector("#"+t.getAttribute("aria-controls"));if(e&&e.classList.contains("govuk-radios__conditional")){var n=t.checked;t.setAttribute("aria-expanded",n);e.classList.toggle("govuk-radios__conditional--hidden",!n)}};E.prototype.handleClick=function(t){var o=t.target;if(o.type!=="radio"){return}var e=document.querySelectorAll('input[type="radio"][aria-controls]');f(e,function(t){var e=t.form===o.form;var n=t.name===o.name;if(n&&e){this.syncConditionalRevealWithInputState(t)}}.bind(this))};(function(t){var e="document"in this&&"nextElementSibling"in document.documentElement;if(e)return;Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){var t=this.nextSibling;while(t&&t.nodeType!==1){t=t.nextSibling}return t}})}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});(function(t){var e="document"in this&&"previousElementSibling"in document.documentElement;if(e)return;Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){var t=this.previousSibling;while(t&&t.nodeType!==1){t=t.previousSibling}return t}})}).call("object"===typeof window&&window||"object"===typeof self&&self||"object"===typeof global&&global||{});function A(t){this.$module=t;this.$tabs=t.querySelectorAll(".govuk-tabs__tab");this.keys={left:37,right:39,up:38,down:40};this.jsHiddenClass="govuk-tabs__panel--hidden"}A.prototype.init=function(){if(typeof window.matchMedia==="function"){this.setupResponsiveChecks()}else{this.setup()}};A.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)");this.mql.addListener(this.checkMode.bind(this));this.checkMode()};A.prototype.checkMode=function(){if(this.mql.matches){this.setup()}else{this.teardown()}};A.prototype.setup=function(){var t=this.$module;var e=this.$tabs;var n=t.querySelector(".govuk-tabs__list");var o=t.querySelectorAll(".govuk-tabs__list-item");if(!e||!n||!o){return}n.setAttribute("role","tablist");f(o,function(t){t.setAttribute("role","presentation")});f(e,function(t){this.setAttributes(t);t.boundTabClick=this.onTabClick.bind(this);t.boundTabKeydown=this.onTabKeydown.bind(this);t.addEventListener("click",t.boundTabClick,true);t.addEventListener("keydown",t.boundTabKeydown,true);this.hideTab(t)}.bind(this));var i=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(i);t.boundOnHashChange=this.onHashChange.bind(this);window.addEventListener("hashchange",t.boundOnHashChange,true)};A.prototype.teardown=function(){var t=this.$module;var e=this.$tabs;var n=t.querySelector(".govuk-tabs__list");var o=t.querySelectorAll(".govuk-tabs__list-item");if(!e||!n||!o){return}n.removeAttribute("role");f(o,function(t){t.removeAttribute("role","presentation")});f(e,function(t){t.removeEventListener("click",t.boundTabClick,true);t.removeEventListener("keydown",t.boundTabKeydown,true);this.unsetAttributes(t)}.bind(this));window.removeEventListener("hashchange",t.boundOnHashChange,true)};A.prototype.onHashChange=function(t){var e=window.location.hash;var n=this.getTab(e);if(!n){return}if(this.changingHash){this.changingHash=false;return}var o=this.getCurrentTab();this.hideTab(o);this.showTab(n);n.focus()};A.prototype.hideTab=function(t){this.unhighlightTab(t);this.hidePanel(t)};A.prototype.showTab=function(t){this.highlightTab(t);this.showPanel(t)};A.prototype.getTab=function(t){return this.$module.querySelector('.govuk-tabs__tab[href="'+t+'"]')};A.prototype.setAttributes=function(t){var e=this.getHref(t).slice(1);t.setAttribute("id","tab_"+e);t.setAttribute("role","tab");t.setAttribute("aria-controls",e);t.setAttribute("aria-selected","false");t.setAttribute("tabindex","-1");var n=this.getPanel(t);n.setAttribute("role","tabpanel");n.setAttribute("aria-labelledby",t.id);n.classList.add(this.jsHiddenClass)};A.prototype.unsetAttributes=function(t){t.removeAttribute("id");t.removeAttribute("role");t.removeAttribute("aria-controls");t.removeAttribute("aria-selected");t.removeAttribute("tabindex");var e=this.getPanel(t);e.removeAttribute("role");e.removeAttribute("aria-labelledby");e.classList.remove(this.jsHiddenClass)};A.prototype.onTabClick=function(t){if(!t.target.classList.contains("govuk-tabs__tab")){return false}t.preventDefault();var e=t.target;var n=this.getCurrentTab();this.hideTab(n);this.showTab(e);this.createHistoryEntry(e)};A.prototype.createHistoryEntry=function(t){var e=this.getPanel(t);var n=e.id;e.id="";this.changingHash=true;window.location.hash=this.getHref(t).slice(1);e.id=n};A.prototype.onTabKeydown=function(t){switch(t.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab();t.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab();t.preventDefault();break}};A.prototype.activateNextTab=function(){var t=this.getCurrentTab();var e=t.parentNode.nextElementSibling;if(e){var n=e.querySelector(".govuk-tabs__tab")}if(n){this.hideTab(t);this.showTab(n);n.focus();this.createHistoryEntry(n)}};A.prototype.activatePreviousTab=function(){var t=this.getCurrentTab();var e=t.parentNode.previousElementSibling;if(e){var n=e.querySelector(".govuk-tabs__tab")}if(n){this.hideTab(t);this.showTab(n);n.focus();this.createHistoryEntry(n)}};A.prototype.getPanel=function(t){var e=this.$module.querySelector(this.getHref(t));return e};A.prototype.showPanel=function(t){var e=this.getPanel(t);e.classList.remove(this.jsHiddenClass)};A.prototype.hidePanel=function(t){var e=this.getPanel(t);e.classList.add(this.jsHiddenClass)};A.prototype.unhighlightTab=function(t){t.setAttribute("aria-selected","false");t.parentNode.classList.remove("govuk-tabs__list-item--selected");t.setAttribute("tabindex","-1")};A.prototype.highlightTab=function(t){t.setAttribute("aria-selected","true");t.parentNode.classList.add("govuk-tabs__list-item--selected");t.setAttribute("tabindex","0")};A.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")};A.prototype.getHref=function(t){var e=t.getAttribute("href");var n=e.slice(e.indexOf("#"),e.length);return n};function s(t){t=typeof t!=="undefined"?t:{};var e=typeof t.scope!=="undefined"?t.scope:document;var n=e.querySelectorAll('[data-module="govuk-button"]');f(n,function(t){new p(t).init()});var o=e.querySelectorAll('[data-module="govuk-accordion"]');f(o,function(t){new h(t).init()});var i=e.querySelectorAll('[data-module="govuk-details"]');f(i,function(t){new v(t).init()});var r=e.querySelectorAll('[data-module="govuk-character-count"]');f(r,function(t){new b(t).init()});var a=e.querySelectorAll('[data-module="govuk-checkboxes"]');f(a,function(t){new m(t).init()});var s=e.querySelector('[data-module="govuk-error-summary"]');new y(s).init();var l=e.querySelector('[data-module="govuk-header"]');new w(l).init();var c=e.querySelectorAll('[data-module="govuk-notification-banner"]');f(c,function(t){new g(t).init()});var u=e.querySelectorAll('[data-module="govuk-radios"]');f(u,function(t){new E(t).init()});var d=e.querySelectorAll('[data-module="govuk-tabs"]');f(d,function(t){new A(t).init()})}t.initAll=s;t.Accordion=h;t.Button=p;t.Details=v;t.CharacterCount=b;t.Checkboxes=m;t.ErrorSummary=y;t.Header=w;t.Radios=E;t.Tabs=A});(function(){const n=document.getElementById("site-navigation");if(!n){return}const o=n.getElementsByTagName("button")[0];if("undefined"===typeof o){return}const t=n.getElementsByTagName("ul")[0];if("undefined"===typeof t){o.style.display="none";return}if(!t.classList.contains("nav-menu")){t.classList.add("nav-menu")}o.addEventListener("click",function(){n.classList.toggle("toggled");if(o.getAttribute("aria-expanded")==="true"){o.setAttribute("aria-expanded","false")}else{o.setAttribute("aria-expanded","true")}});document.addEventListener("click",function(t){const e=n.contains(t.target);if(!e){n.classList.remove("toggled");o.setAttribute("aria-expanded","false")}});const e=t.getElementsByTagName("a");const i=t.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");for(const a of e){a.addEventListener("focus",r,true);a.addEventListener("blur",r,true)}for(const a of i){a.addEventListener("touchstart",r,false)}function r(){if(event.type==="focus"||event.type==="blur"){let t=this;while(!t.classList.contains("nav-menu")){if("li"===t.tagName.toLowerCase()){t.classList.toggle("focus")}t=t.parentNode}}if(event.type==="touchstart"){const e=this.parentNode;event.preventDefault();for(const t of e.parentNode.children){if(e!==t){t.classList.remove("focus")}}e.classList.toggle("focus")}}})();
//# sourceMappingURL=main.min.js.map